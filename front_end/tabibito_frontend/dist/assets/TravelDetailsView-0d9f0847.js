import{z as e,o as a,c as t,e as s,A as l,_ as i,r as o,b as r,t as c,d as n,w as d,I as u,u as p,H as v,F as m,f as h,p as g,k as w,x as f,s as _,q as b,h as y,i as T,D as x,a as k,y as C,g as R,J as D,l as M,m as $,n as L}from"./index-4a8fe44e.js";import{L as A}from"./index.esm-edc83051.js";import{A as P}from"./ArrowForwardOutline-5449d6d4.js";import{A as I}from"./ArrowBack-f2e5b4c4.js";import{A as z}from"./ArrowForward-47f30331.js";import{N as W}from"./navigationBar-68b72f27.js";import{F as j}from"./footerView-780810f0.js";const S={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},F=[s("path",{d:"M480 208H308L256 48l-52 160H32l140 96l-54 160l138-100l138 100l-54-160z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1),s("path",{d:"M256 48v316L118 464l54-160l-140-96h172l52-160z",fill:"currentColor"},null,-1)],E=e({name:"StarHalf",render:function(e,s){return a(),t("svg",S,F)}}),B={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},V=[l('<path d="M39.94 178l144.16 6.12c4.61.36 23.9 1.22 23.9 25.88c0 23.8-19.16 25.33-24.14 25.88L39.94 242C27.27 241.87 16 227.56 16 210s11.27-31.87 23.94-32zm141.45 131.66L74.65 318C62 318 48 301.31 48 284.12v-.33c0-16.33 11.14-29.63 24.88-29.79l108.45 1.72C208 259 208 275.16 208 282.12c0 22.88-21.8 27.14-26.61 27.54zM90.15 32l89.37 8.93C204 41.86 208 58.18 208 68.4c0 18.39-13.41 24.6-26.67 24.6l-91 3C75.78 95.78 64 81.51 64 64s11.68-31.66 26.15-32zm-34.36 71.5l126.4 6.22c9.39.63 25.81 3 25.81 26.36c0 12-4.35 25.62-25 27.53L55.79 167.5C42.65 167.35 32 154 32 136.08s10.65-32.43 23.79-32.58z" fill="currentColor"></path><path d="M378.45 273.93A15.84 15.84 0 0 1 386 272a15.93 15.93 0 0 0-7.51 1.91z" fill="none"></path><path d="M337.86 343.22l-.13.22a2.53 2.53 0 0 1 .13-.22c20.5-35.51 30.36-55 33.82-62c-3.47 7.06-13.34 26.51-33.82 62z" fill="none"></path><path d="M372.66 279.16l-1 2a16.29 16.29 0 0 1 6.77-7.26a16.48 16.48 0 0 0-5.77 5.26z" fill="currentColor"></path><path d="M195.94 459.38C205.37 472.67 221 480 240 480a16 16 0 0 0 14.31-8.85c3-6.06 15.25-24 28.19-42.9c18-26.33 40.35-59.08 55.23-84.81l.13-.22c20.48-35.49 30.35-54.94 33.82-62l1-2a16.48 16.48 0 0 1 5.79-5.23A15.93 15.93 0 0 1 386 272h25.32A84.7 84.7 0 0 0 496 187.3v-38.6A84.7 84.7 0 0 0 411.31 64h-48.79a17.46 17.46 0 0 1-9.58-2.89C330 46.13 286.66 32 240 32c-7.45 0-14.19.14-20.27.38a8 8 0 0 0-6.2 12.68l.1.14C222.2 57.59 224 71 224 80a61.16 61.16 0 0 1-5.19 24.77a17.38 17.38 0 0 0 0 14.06a63.81 63.81 0 0 1 0 50.39a17.32 17.32 0 0 0 0 14a62.13 62.13 0 0 1 0 49.58a18.13 18.13 0 0 0 0 14.68A60.41 60.41 0 0 1 224 273c0 8.2-2 21.3-8 31.18a15.66 15.66 0 0 0-1.14 13.65c.38 1 .76 2.06 1.13 3.17a24.8 24.8 0 0 1 .86 11.57c-3 19.35-9.67 36.3-16.74 54.16c-3.08 7.78-6.27 15.82-9.22 24.27c-6.14 17.56-4.3 35.2 5.05 48.38z" fill="currentColor"></path>',5)],N=e({name:"ThumbsDown",render:function(e,s){return a(),t("svg",B,V)}}),H={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},O=[l('<path d="M472.06 334l-144.16-6.13c-4.61-.36-23.9-1.21-23.9-25.87c0-23.81 19.16-25.33 24.14-25.88L472.06 270c12.67.13 23.94 14.43 23.94 32s-11.27 31.87-23.94 32zM330.61 202.33L437.35 194C450 194 464 210.68 464 227.88v.33c0 16.32-11.14 29.62-24.88 29.79l-108.45-1.73C304 253 304 236.83 304 229.88c0-22.88 21.8-27.15 26.61-27.55zM421.85 480l-89.37-8.93C308 470.14 304 453.82 304 443.59c0-18.38 13.41-24.6 26.67-24.6l91-3c14.54.23 26.32 14.5 26.32 32s-11.67 31.67-26.14 32.01zm34.36-71.5l-126.4-6.21c-9.39-.63-25.81-3-25.81-26.37c0-12 4.35-25.61 25-27.53l127.19-3.88c13.16.14 23.81 13.49 23.81 31.4s-10.65 32.43-23.79 32.58z" fill="currentColor"></path><path d="M133.55 238.06A15.85 15.85 0 0 1 126 240a15.82 15.82 0 0 0 7.51-1.92z" fill="none"></path><path d="M174.14 168.78l.13-.23l-.13.23c-20.5 35.51-30.36 54.95-33.82 62c3.47-7.07 13.34-26.51 33.82-62z" fill="none"></path><path d="M139.34 232.84l1-2a16.27 16.27 0 0 1-6.77 7.25a16.35 16.35 0 0 0 5.77-5.25z" fill="currentColor"></path><path d="M316.06 52.62C306.63 39.32 291 32 272 32a16 16 0 0 0-14.31 8.84c-3 6.07-15.25 24-28.19 42.91c-18 26.33-40.35 59.07-55.23 84.8l-.13.23c-20.48 35.49-30.35 54.93-33.82 62l-1 2a16.35 16.35 0 0 1-5.79 5.22a15.82 15.82 0 0 1-7.53 2h-25.31A84.69 84.69 0 0 0 16 324.69v38.61a84.69 84.69 0 0 0 84.69 84.7h48.79a17.55 17.55 0 0 1 9.58 2.89C182 465.87 225.34 480 272 480c7.45 0 14.19-.14 20.27-.38a8 8 0 0 0 6.2-12.68l-.1-.14C289.8 454.41 288 441 288 432a61.2 61.2 0 0 1 5.19-24.77a17.36 17.36 0 0 0 0-14.05a63.81 63.81 0 0 1 0-50.39a17.32 17.32 0 0 0 0-14a62.15 62.15 0 0 1 0-49.59a18.13 18.13 0 0 0 0-14.68A60.33 60.33 0 0 1 288 239c0-8.2 2-21.3 8-31.19a15.63 15.63 0 0 0 1.14-13.64c-.38-1-.76-2.07-1.13-3.17a24.84 24.84 0 0 1-.86-11.58c3-19.34 9.67-36.29 16.74-54.16c3.08-7.78 6.27-15.82 9.22-24.26c6.14-17.57 4.3-35.2-5.05-48.38z" fill="currentColor"></path>',5)],U=e({name:"ThumbsUp",render:function(e,s){return a(),t("svg",H,O)}}),Y={class:"container"},G={class:"index"},q={class:"information"},X={class:"title"},J={class:"time"},K={class:"description"};const Q={name:"itineraryPart",components:{ItineraryStep:i({props:["item","index"],name:"itineraryStep",setup(e){let a=o(!1),t=o("See details & photo");return{show:a,moreInfoText:t,handleInfo(){!1===a.value?(a.value=!0,t.value="See Less"):(a.value=!1,t.value="See details & photo")}}}},[["render",function(e,l,i,o,p,v){const m=r("n-collapse-transition");return a(),t("div",Y,[s("div",G,c(parseInt(i.index)+1),1),s("div",q,[s("div",X,c(i.item.description),1),s("div",J,c(i.item.time),1),n(m,{show:o.show},{default:d((()=>[s("div",{class:"picture",style:u("background-image: url("+i.item.picture+")")},null,4),s("div",K,c(i.item.name),1)])),_:1},8,["show"]),s("div",{class:"moreInfo",onClick:l[0]||(l[0]=(...e)=>o.handleInfo&&o.handleInfo(...e))},c(o.moreInfoText),1)])])}],["__scopeId","data-v-8b25a74b"]])},setup(){const e=o([]),a=p();let t="en-US";return"zh"===a.language&&(t="zh-CN"),{raw_trip_data:e,project_loc:null,project_zoom:1,locations:[],loadMap(){new A({apiKey:"AIzaSyBctzU8ocpP_0j4IdTRqA-GABIAnaXd0ow",version:"beta",libraries:["marker"],language:t}).load().then((e=>{const a=this.project_loc;let t=new e.maps.Map(document.getElementById("map"),{center:a,zoom:this.project_zoom,mapId:"jkhjkhkjhjkh"});const s=this.locations,l=new e.maps.InfoWindow;s.forEach((({position:a,title:s},i)=>{const o=new e.maps.marker.PinView({glyph:`${i+1}`}),r=new e.maps.marker.AdvancedMarkerView({position:a,map:t,title:`${i+1}. ${s}`,content:o.element});r.addListener("click",(({domEvent:e,latLng:a})=>{l.close(),l.setContent(r.title),l.open(r.map,r)}))}))}))}}},created(){const e=v();this.axios.post("/product/trips",{product_id:e.params.trip_id}).then((e=>{this.project_loc={lat:e.data.location.map_latitude,lng:e.data.location.map_longitude},this.project_zoom=e.data.location.map_zoom,this.raw_trip_data.value=e.data.trips;for(let a=0;a<this.raw_trip_data.value.length;a++)this.locations.push({position:{lat:this.raw_trip_data.value[a].location.map_latitude,lng:this.raw_trip_data.value[a].location.map_longitude},title:this.raw_trip_data.value[a].location.exact}),this.itineraryData.push({name:this.raw_trip_data.value[a].activity,time:"Day "+this.raw_trip_data.value[a].day+", "+this.raw_trip_data.value[a].time_of_day+" "+this.raw_trip_data.value[a].time,description:this.raw_trip_data.value[a].location.exact,picture:this.raw_trip_data.value[a].picture});this.loadMap()}))},data:()=>({itineraryData:[]})},Z={class:"container"},ee={class:"itineraryTitle"},ae={class:"itineraryCore"},te={class:"timeLine"},se=(e=>(g("data-v-936ee39e"),e=e(),w(),e))((()=>s("div",{class:"map",id:"map"},null,-1)));const le={name:"chargeList",components:{ItineraryPart:i(Q,[["render",function(e,l,i,o,d,u){const p=r("itinerary-step");return a(),t("div",Z,[s("div",ee,c(e.$t("projectDetailPage.itinerary.title")),1),s("div",ae,[s("div",te,[(a(!0),t(m,null,h(this.itineraryData,((e,s)=>(a(),t("div",null,[n(p,{item:e,index:s},null,8,["item","index"])])))),256))]),se])])}],["__scopeId","data-v-936ee39e"]])},setup(){let e=o(560),a=o(315);return window.fullWidth=document.documentElement.clientWidth,window.fullWidth<700?(e.value=340,a.value=192):window.fullWidth>=700&&(e.value=560,a.value=315),f((()=>{window.addEventListener("resize",(()=>{window.fullWidth=document.documentElement.clientWidth,window.fullWidth<700?(e.value=340,a.value=192):window.fullWidth>=700&&(e.value=560,a.value=315)}))})),{frame_width:e,frame_height:a}},created(){const e=v(),a=_();this.axios.post("/product/charge_detail",{product_id:e.params.trip_id}).then((e=>{200===e.status?this.chargeListData=e.data.charges:a.push("/404")})),this.axios.post("/product/detail",{product_id:e.params.trip_id}).then((e=>{200===e.status&&this.axios.post("/third/weather_forecast",{location:e.data.location}).then((e=>{200===e.status&&(this.weather=e.data.weather)}))})),this.axios.post("/product/video",{product_id:e.params.trip_id}).then((e=>{200===e.status&&(this.hasVideo=!0,this.videoLink=e.data.video_link)}))},data:()=>({chargeListData:[],weather:[],videoLink:"",hasVideo:!1})},ie=e=>(g("data-v-eebbd65e"),e=e(),w(),e),oe={class:"container"},re={key:0,class:"chargeListTitle"},ce=["width","height","src"],ne={key:2,class:"divider"},de={class:"chargeListTitle"},ue={class:"chargeList"},pe={class:"weatherPart"},ve={class:"weatherTitleBar"},me={class:"city"},he={class:"date"},ge={class:"weatherMain"},we={class:"temperature"},fe=["src"],_e={class:"forecast"},be={class:"foreTemp"},ye={class:"tempValue"},Te={class:"tempType"},xe={class:"foreTemp"},ke={class:"tempValue"},Ce={class:"tempType"},Re={class:"foreTemp"},De={class:"tempValue"},Me={class:"tempType"},$e=ie((()=>s("div",{class:"divider"},null,-1))),Le={class:"chargeListTitle"},Ae={class:"chargeList"},Pe=ie((()=>s("div",{class:"divider"},null,-1)));const Ie=i(le,[["render",function(e,l,i,o,u,p){const v=r("n-card"),g=r("itinerary-part");return a(),t(m,null,[s("div",oe,[u.hasVideo?(a(),t("div",re,c(e.$t("projectDetailPage.ChargeList.video")),1)):b("",!0),u.hasVideo?(a(),t("iframe",{key:1,class:"iframe",width:o.frame_width,height:o.frame_height,src:"https://www.youtube.com/embed/"+u.videoLink,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""},null,8,ce)):b("",!0),u.hasVideo?(a(),t("div",ne)):b("",!0),s("div",de,c(e.$t("projectDetailPage.weatherReport")),1),s("div",ue,[(a(!0),t(m,null,h(this.weather,(l=>(a(),t("div",pe,[s("div",ve,[s("div",me,c(l.city),1),s("div",he,c(l.date),1)]),s("div",ge,[s("div",we,c(l.avg_temp.toFixed(0)+"℃"),1),s("img",{src:l.img_url,alt:"",class:"weatherImg"},null,8,fe)]),s("div",_e,[s("div",be,[s("div",ye,c(l.max_temp.toFixed(0)+"℃"),1),s("div",Te,c(e.$t("projectDetailPage.max")),1)]),s("div",xe,[s("div",ke,c(l.avg_temp.toFixed(0)+"℃"),1),s("div",Ce,c(e.$t("projectDetailPage.avg")),1)]),s("div",Re,[s("div",De,c(l.min_temp.toFixed(0)+"℃"),1),s("div",Me,c(e.$t("projectDetailPage.min")),1)])])])))),256))]),$e,s("div",Le,c(e.$t("projectDetailPage.ChargeList.title")),1),s("div",Ae,[(a(!0),t(m,null,h(this.chargeListData,(e=>(a(),y(v,{title:e.name,hoverable:""},{default:d((()=>[T(c(e.description),1)])),_:2},1032,["title"])))),256))]),Pe]),n(g)],64)}],["__scopeId","data-v-eebbd65e"]]),ze=e({name:"guestReviews",components:{ThumbsUp:U,ThumbsDown:N,ArrowForwardOutline:P},setup(){const e=o(!1);return{handleClick(){e.value=!0,setTimeout((()=>{e.value=!1}),2e3)},loading:e}},data:()=>({percentages:{},commentPage:o(1),commentPages:o(20),commentPageSize:o(10),comments:[{}],scores:{},percentage:{},reviews:{}}),methods:{handleChangePage(){this.axios.post("/product/get_comment",{page_number:this.commentPage,product_id:route.params.trip_id}).then((e=>{200===e.status&&(this.comments=e.data.comments)}))}},created(){var e=this;let a=v();this.axios.post("/product/get_comment",{page:this.commentPage,product_id:a.params.trip_id}).then((a=>{200===a.status&&(e.comments=a.data.comments)})),this.axios.post("/product/get_reviews",{product_id:a.params.trip_id}).then((e=>{if(200===e.status){const a=e.number;this.commentPages=Math.floor(a/10)+(a%10>0?1:0)}}))},mounted(){let e=v();for(const[t,s]of Object.entries(this.scores))this.$set(this.percentage,t,Math.round(10*s));var a=this;this.axios.post("/product/get_product_grade",{product_id:e.params.trip_id}).then((function(e){a.scores=e.data;for(const[t,s]of Object.entries(a.scores))a.percentages[t]=Math.round(20*s)})).catch((e=>{})),this.axios.post("/product/get_reviews",{product_id:e.params.trip_id}).then((function(e){a.reviews=e.data})).catch((e=>{}))}}),We={class:"container"},je={class:"row y-gap-30 guest_reviews_wrap"},Se={class:"col-xl-3"},Fe={class:"gr_title"},Ee={class:"exceptional"},Be={class:"ex_point"},Ve={class:"ex_sub_wrap"},Ne={class:"ex_text"},He={class:"ex_sta"},Oe={class:"row y-gap-20 bars"},Ue={class:"col-12"},Ye={class:""},Ge={class:"bar_head"},qe={class:"bar_title"},Xe={class:"bar_score"},Je={class:"bar_progress"},Ke={class:"col-12"},Qe={class:""},Ze={class:"bar_head"},ea={class:"bar_title"},aa={class:"bar_score"},ta={class:"bar_progress"},sa={class:"col-12"},la={class:""},ia={class:"bar_head"},oa={class:"bar_title"},ra={class:"bar_score"},ca={class:"bar_progress"},na={class:"col-12"},da={class:""},ua={class:"bar_head"},pa={class:"bar_title"},va={class:"bar_score"},ma={class:"bar_progress"},ha={class:"col-12"},ga={class:""},wa={class:"bar_head"},fa={class:"bar_title"},_a={class:"bar_score"},ba={class:"bar_progress"},ya={class:"col-12"},Ta={class:""},xa={class:"bar_head"},ka={class:"bar_title"},Ca={class:"bar_score"},Ra={class:"bar_progress"},Da={class:"col-12"},Ma={class:""},$a={class:"bar_head"},La={class:"bar_title"},Aa={class:"bar_score"},Pa={class:"bar_progress"},Ia={class:"col-xl-8"},za={class:"row y-gap-30"},Wa={class:"col-12"},ja={class:"row y-gap-20 x-gap-20 comment_head"},Sa={class:"col-auto"},Fa=["src"],Ea={class:"col-auto"},Ba={class:"user_name"},Va={class:"date"},Na={class:"comment_title"},Ha={class:"comment_content"},Oa={class:"row x-gap-20 y-gap-30 comment_photos"},Ua={class:"col-auto"},Ya=["src"];const Ga=i(ze,[["render",function(e,l,i,o,d,u){const p=r("n-progress"),v=r("n-pagination");return a(),t("div",We,[s("div",je,[s("div",Se,[s("h3",Fe,c(e.$t("guestReviews")),1),s("div",Ee,[s("div",Be,c(e.scores.exceptional),1),s("div",Ve,[s("div",Ne,c(e.$t("moreView.exceptional")),1),s("div",He,c(e.$t("reviews",{reviews_num:e.reviews.reviews_num})),1)])]),s("div",Oe,[s("div",Ue,[s("div",Ye,[s("div",Ge,[s("div",qe,c(e.$t("homepage.searchPart.loc")),1),s("div",Xe,c(e.scores.location),1)]),s("div",Je,[n(p,{type:"line","show-indicator":!1,percentage:e.percentages.location,processing:""},null,8,["percentage"])])])]),s("div",Ke,[s("div",Qe,[s("div",Ze,[s("div",ea,c(e.$t("staff")),1),s("div",aa,c(e.scores.staff),1)]),s("div",ta,[n(p,{type:"line","show-indicator":!1,percentage:e.percentages.staff,processing:""},null,8,["percentage"])])])]),s("div",sa,[s("div",la,[s("div",ia,[s("div",oa,c(e.$t("cleanliness")),1),s("div",ra,c(e.scores.cleanliness),1)]),s("div",ca,[n(p,{type:"line","show-indicator":!1,percentage:e.percentages.cleanliness,processing:""},null,8,["percentage"])])])]),s("div",na,[s("div",da,[s("div",ua,[s("div",pa,c(e.$t("valueForMoney")),1),s("div",va,c(e.scores.value_for_money),1)]),s("div",ma,[n(p,{type:"line","show-indicator":!1,percentage:e.percentages.value_for_money,processing:""},null,8,["percentage"])])])]),s("div",ha,[s("div",ga,[s("div",wa,[s("div",fa,c(e.$t("comfort")),1),s("div",_a,c(e.scores.comfort),1)]),s("div",ba,[n(p,{type:"line","show-indicator":!1,percentage:e.percentages.comfort,processing:""},null,8,["percentage"])])])]),s("div",ya,[s("div",Ta,[s("div",xa,[s("div",ka,c(e.$t("facilities")),1),s("div",Ca,c(e.scores.facilities),1)]),s("div",Ra,[n(p,{type:"line","show-indicator":!1,percentage:e.percentages.facilities,processing:""},null,8,["percentage"])])])]),s("div",Da,[s("div",Ma,[s("div",$a,[s("div",La,c(e.$t("freeWifi")),1),s("div",Aa,c(e.scores.free_wifi),1)]),s("div",Pa,[n(p,{type:"line","show-indicator":!1,percentage:e.percentages.free_wifi,processing:""},null,8,["percentage"])])])])])]),s("div",Ia,[s("div",za,[(a(!0),t(m,null,h(e.comments,(e=>(a(),t("div",Wa,[s("div",ja,[s("div",Sa,[s("img",{src:e.user_portrait,class:"avatar"},null,8,Fa)]),s("div",Ea,[s("div",Ba,c(e.user_name),1),s("div",Va,c(e.date_time),1)])]),s("h5",Na,c(e.title),1),s("p",Ha,c(e.des),1),(a(!0),t(m,null,h(e.pic,(e=>(a(),t("div",Oa,[s("div",Ua,[s("img",{src:e,class:"photo"},null,8,Ya)])])))),256))])))),256)),n(v,{page:e.commentPage,"onUpdate:page":[l[0]||(l[0]=a=>e.commentPage=a),e.handleChangePage],"page-count":e.commentPages,"page-size":e.commentPageSize,"onUpdate:pageSize":l[1]||(l[1]=a=>e.commentPageSize=a)},null,8,["page","page-count","page-size","onUpdate:page"])])])])])}],["__scopeId","data-v-5c819b1f"]]),qa=e({name:"leaveReply",components:{star:E,ArrowForwardOutline:P},data:()=>({value:o(null),locationRating:0,staffRating:0,cleanlinessRating:0,valueForMoneyRating:0,comfortRating:0,facilitiesRating:0,freeWifiRating:0,locationRated:!1,staffRated:!1,cleanlinessRated:!1,valueForMoneyRated:!1,comfortRated:!1,facilitiesRated:!1,freeWifiRated:!1}),methods:{setRating(e,a){switch(e){case"location":this.locationRating=a,this.locationRated=!0;break;case"staff":this.staffRating=a,this.staffRated=!0;break;case"cleanliness":this.cleanlinessRating=a,this.cleanlinessRated=!0;break;case"value_for_money":this.valueForMoneyRating=a,this.valueForMoneyRated=!0;break;case"comfort":this.comfortRating=a,this.comfortRated=!0;break;case"facilities":this.facilitiesRating=a,this.facilitiesRated=!0;break;case"free_wifi":this.freeWifiRating=a,this.freeWifiRated=!0}}},computed:{isLocationActive(){return e=>e<=this.locationRating},isStaffActive(){return e=>e<=this.staffRating},isCleanlinessActive(){return e=>e<=this.cleanlinessRating},isValueForMoneyActive(){return e=>e<=this.valueForMoneyRating},isComfortActive(){return e=>e<=this.comfortRating},isFacilitiesActive(){return e=>e<=this.facilitiesRating},isFreeWifiActive(){return e=>e<=this.freeWifiRating}},setup(){const e=o(""),a=o(""),t=x((()=>!e.value||!a.value));return{title:e,isButtonDisabled:t,des:a,handleComment:async()=>{if(!t.value)try{await k.post("/comment/add_comment",{title:e.value,des:a.value,user_id:null,product_id:9,location_grade:this.locationRating,staff_grade:this.staffRating,cleanliness_grade:this.cleanlinessRating,value_for_money_grade:this.valueForMoneyRating,comfort_grade:this.comfortRating,facilities_grade:this.facilitiesRating,free_wifi_grade:this.freeWifiRating,pics:[]})}catch(s){}}}}}),Xa={class:"container"},Ja={class:"row y-gap-30 leave_message_wrap"},Ka={class:"col-xl-3"},Qa={class:"row"},Za={class:"col-auto"},et={class:"lm_left_title"},at={class:"lm_left_subtitle"},tt={class:"row y-gap-30 lm_left_stars"},st={class:"col-sm-6"},lt={class:"star_title"},it={class:"star_wrap"},ot={class:"col-sm-6"},rt={class:"star_title"},ct={class:"star_wrap"},nt={class:"col-sm-6"},dt={class:"star_title"},ut={class:"star_wrap"},pt={class:"col-sm-6"},vt={class:"star_title"},mt={class:"star_wrap"},ht={class:"col-sm-6"},gt={class:"star_title"},wt={class:"star_wrap"},ft={class:"col-sm-6"},_t={class:"star_title"},bt={class:"star_wrap"},yt={class:"col-sm-6"},Tt={class:"star_title"},xt={class:"star_wrap"},kt={class:"list_wrap"},Ct={class:"form_input"},Rt={class:"form_input"};const Dt=i(qa,[["render",function(e,l,i,o,u,p){const v=r("star"),g=r("n-icon"),w=r("n-input"),f=r("ArrowForwardOutline"),_=r("n-button"),b=r("n-space");return a(),t("section",null,[s("div",Xa,[s("div",Ja,[s("div",Ka,[s("div",Qa,[s("div",Za,[s("h3",et,c(e.$t("leaveReply.leaveAReply")),1),s("p",at,c(e.$t("leaveReply.yourEmailAddressWillNotBePublished")),1)])]),s("div",tt,[s("div",st,[s("div",lt,c(e.$t("homepage.searchPart.loc")),1),s("div",it,[(a(),t(m,null,h(10,(a=>n(g,{key:a,class:"star",onClick:t=>e.setRating("location",a)},{default:d((()=>[n(v,{class:C({filled:e.isLocationActive(a)})},null,8,["class"])])),_:2},1032,["onClick"]))),64))])]),s("div",ot,[s("div",rt,c(e.$t("leaveReply.staff2")),1),s("div",ct,[(a(),t(m,null,h(10,(a=>n(g,{key:a,class:"star",onClick:t=>e.setRating("staff",a)},{default:d((()=>[n(v,{class:C({filled:e.isStaffActive(a)})},null,8,["class"])])),_:2},1032,["onClick"]))),64))])]),s("div",nt,[s("div",dt,c(e.$t("leaveReply.cleanliness2")),1),s("div",ut,[(a(),t(m,null,h(10,(a=>n(g,{key:a,class:"star",onClick:t=>e.setRating("cleanliness",a)},{default:d((()=>[n(v,{class:C({filled:e.isCleanlinessActive(a)})},null,8,["class"])])),_:2},1032,["onClick"]))),64))])]),s("div",pt,[s("div",vt,c(e.$t("leaveReply.valueForMoney2")),1),s("div",mt,[(a(),t(m,null,h(10,(a=>n(g,{key:a,class:"star",onClick:t=>e.setRating("value_for_money",a)},{default:d((()=>[n(v,{class:C({filled:e.isValueForMoneyActive(a)})},null,8,["class"])])),_:2},1032,["onClick"]))),64))])]),s("div",ht,[s("div",gt,c(e.$t("leaveReply.comfort2")),1),s("div",wt,[(a(),t(m,null,h(10,(a=>n(g,{key:a,class:"star",onClick:t=>e.setRating("comfort",a)},{default:d((()=>[n(v,{class:C({filled:e.isComfortActive(a)})},null,8,["class"])])),_:2},1032,["onClick"]))),64))])]),s("div",ft,[s("div",_t,c(e.$t("leaveReply.facilities2")),1),s("div",bt,[(a(),t(m,null,h(10,(a=>n(g,{key:a,class:"star",onClick:t=>e.setRating("facilities",a)},{default:d((()=>[n(v,{class:C({filled:e.isFacilitiesActive(a)})},null,8,["class"])])),_:2},1032,["onClick"]))),64))])]),s("div",yt,[s("div",Tt,c(e.$t("leaveReply.freeWifi2")),1),s("div",xt,[(a(),t(m,null,h(10,(a=>n(g,{key:a,class:"star",onClick:t=>e.setRating("free_wifi",a)},{default:d((()=>[n(v,{class:C({filled:e.isFreeWifiActive(a)})},null,8,["class"])])),_:2},1032,["onClick"]))),64))])])])]),s("div",kt,[n(b,{vertical:""},{default:d((()=>[s("div",Ct,[n(w,{value:e.title,"onUpdate:value":l[0]||(l[0]=a=>e.title=a),type:"text",size:"large",placeholder:e.$t("leaveReply.title"),clearable:"","show-count":"",maxlength:12,"count-graphemes":e.countGraphemes},null,8,["value","placeholder","count-graphemes"])]),s("div",Rt,[n(w,{value:e.des,"onUpdate:value":l[1]||(l[1]=a=>e.des=a),type:"textarea",size:"large",placeholder:e.$t("leaveReply.writeYourComment"),clearable:"","show-count":"",maxlength:200,"count-graphemes":e.countGraphemes},null,8,["value","placeholder","count-graphemes"])]),n(_,{strong:"",secondary:"",type:"info",size:"large","icon-placement":"right",onClick:e.handleComment,disabled:e.isButtonDisabled||!e.locationRated||!e.staffRated||!e.cleanlinessRated||!e.valueForMoneyRated||!e.comfortRated||!e.facilitiesRated||!e.freeWifiRated},{icon:d((()=>[n(g,null,{default:d((()=>[n(f)])),_:1})])),default:d((()=>[T(" "+c(e.$t("leaveReply.postComment")),1)])),_:1},8,["onClick","disabled"])])),_:1})])])])])}],["__scopeId","data-v-e549447a"]]),Mt={components:{ArrowBack:I,ArrowForward:z},name:"similarExperience",data:()=>({windowWidth:document.documentElement.clientWidth,recommends:[]}),setup(){_();let e=o(3),a=o(20),t=o({});return R().appContext.config.globalProperties.axios.get("/recommend/products").then((e=>{t.value=e.data.products;for(let a=0;a<t.value.length;a++){let e=t.value[a].duration,s=Math.round(e/3600),l=Math.round(s/24);s>24&&1===l&&(t.value[a].duration="1 Day"),s>24&&l>1&&(t.value[a].duration=l+" Days"),1===s&&(t.value[a].duration="1 Hour"),s<24&&1!==s&&(t.value[a].duration=s+" Hours")}})).catch((e=>{})),window.fullWidth=document.documentElement.clientWidth,window.fullWidth<550?(e.value=1,a.value=0):window.fullWidth<=700?(e.value=2,a.value=13):window.fullWidth<=900?(e.value=2,a.value=15):window.fullWidth<=1100?(e.value=3,a.value=15):window.fullWidth>=1100&&(e.value=3,a.value=20),f((()=>{window.addEventListener("resize",(()=>{window.fullWidth=document.documentElement.clientWidth,window.fullWidth<550?(e.value=1,a.value=0):window.fullWidth<=700?(e.value=2,a.value=13):window.fullWidth<=900?(e.value=2,a.value=15):window.fullWidth<=1100?(e.value=3,a.value=15):window.fullWidth>=1100&&(e.value=3,a.value=20)}))})),{slides_per_view:e,space_between:a,recommends:t}},methods:{navigateToProduct(e){this.$router.push("/trip/"+e)}},watch:{$route(){this.$router.go(0)}}},$t=e=>(g("data-v-34e724c6"),e=e(),w(),e),Lt={class:"mostPopularLayout-pt mostPopularLayout-pb"},At={class:"container"},Pt={class:"mostPopularHead"},It={class:"col-auto"},zt={class:"sectionTitle -md"},Wt={class:"sectionTitle__title"},jt={class:"sectionTitle__text"},St={class:"col-auto"},Ft={href:"#",class:"button -md -blue-1 bg-blue-1-05 text-blue-1"},Et=$t((()=>s("div",{class:"icon"},null,-1))),Bt={class:"most-popular-contents","data-gap":"30","data-slider-cols":"xl-5 lg-4 md-2 sm-2 base-1","data-nav-prev":"js-team-prev","data-pagination":"js-team-pag","data-nav-next":"js-team-next"},Vt=["src"],Nt={class:"custom-arrow"},Ht=["onClick"],Ot=["onClick"],Ut={class:"custom-dots"},Yt=["onClick"],Gt={class:"tourCardContent"},qt={class:"tourCardTime"},Xt={class:"hours"},Jt=$t((()=>s("div",{class:"dot"},null,-1))),Kt={class:"days"},Qt=["onClick"],Zt={class:"tourCardText"},es={class:"row starsLayout"},as={class:"col-auto"},ts={class:"starsBefore"},ss=$t((()=>s("div",{class:"stars"},[s("div",{class:"icon-star iconStar"}),s("div",{class:"icon-star iconStar"}),s("div",{class:"icon-star iconStar"}),s("div",{class:"icon-star iconStar"}),s("div",{class:"icon-star iconStar"})],-1))),ls={class:"review"},is={class:"col-auto"},os={class:"footer"},rs={class:"price"};const cs={name:"TravelDetailsView",components:{NavigationBar:W,SimilarExperiences:i(Mt,[["render",function(e,l,i,o,u,p){const v=r("ArrowBack"),g=r("n-icon"),w=r("ArrowForward"),f=r("n-carousel"),_=r("n-card");return a(),t("section",Lt,[s("div",At,[s("div",Pt,[s("div",It,[s("div",zt,[s("h2",Wt,c(e.$t("simEx.similarExperiences")),1),s("p",jt,c(e.$t("simEx.interdumEtMalesuadaFamesAcAnteIpsum")),1)]),s("div",St,[s("a",Ft,[T(c(e.$t("hotLocation.more"))+" ",1),Et])])])]),s("div",Bt,[n(f,{"slides-per-view":o.slides_per_view,"space-between":o.space_between,loop:!1,"show-arrow":""},{default:d((()=>[(a(!0),t(m,null,h(o.recommends,(l=>(a(),t("div",{key:l.id},[n(f,{"show-arrow":"",autoplay:"","space-between":2},{arrow:d((({prev:e,next:a})=>[s("div",Nt,[s("button",{type:"button",class:"custom-arrow--left",onClick:e},[n(g,null,{default:d((()=>[n(v)])),_:1})],8,Ht),s("button",{type:"button",class:"custom-arrow--right",onClick:a},[n(g,null,{default:d((()=>[n(w)])),_:1})],8,Ot)])])),dots:d((({total:e,currentIndex:l,to:i})=>[s("ul",Ut,[(a(!0),t(m,null,h(e,(e=>(a(),t("li",{key:e,class:C({"is-active":l===e-1}),onClick:a=>i(e-1)},null,10,Yt)))),128))])])),default:d((()=>[(a(!0),t(m,null,h(l.banners,(e=>(a(),t("img",{class:"carousel-img",src:e},null,8,Vt)))),256))])),_:2},1024),n(_,null,{default:d((()=>[s("div",Gt,[s("div",qt,[s("div",Xt,c(l.duration),1),Jt,s("div",Kt,c(l.types[0]),1)]),s("h4",{class:"tourCardTitle",onClick:e=>p.navigateToProduct(l.id)},[s("span",null,c(l.name),1)],8,Qt),s("p",Zt,c(l.raw_loc),1),s("div",es,[s("div",as,[s("div",ts,[ss,s("div",ls,c(e.$t("mostPopularTours.reviews",{reviews:l.reviews})),1)])]),s("div",is,[s("div",os,[T(c(e.$t("discount.from"))+" ",1),s("span",rs,"US$"+c(l.price.toFixed(2)),1)])])])])])),_:2},1024)])))),128))])),_:1},8,["slides-per-view","space-between"])])])])}],["__scopeId","data-v-34e724c6"]]),LeaveReply:Dt,GuestReviews:Ga,ChargeList:Ie,footerView:j},data:()=>(o(),o(),{showModalPhotos:!1,showModalModel:!1,showModal:!1,currentIndex:0,imageList:o(),blockHeight:310,threshold:490,scrollTop:0,details:[],duration:0,id:0}),setup(){const e=R().data.id1;let a=D(),t=o(),s=o(),l=o();const i=R().appContext.config.globalProperties.axios,r=M();let c=o(!1);return c.value=a.user_login_status,{startTime:t,endTime:s,groupNum:l,toast:r,user_log_in:c,id1:e,handleClickProject(){let e=this;0===a.user_id?e.toast.warning("Please login first",{position:"bottom-right"}):null==this.groupNum?e.toast.warning("Please enter the number of the travelers first",{position:"bottom-right"}):i.post("/order/create_order",{product_id:this.id1,groupNum:this.groupNum,user_id:a.user_id}).then((function(a){200===a.data.code?e.toast.success("Successfully Reservation",{position:"bottom-right"}):e.toast.warning("You have already booked this trip",{position:"bottom-right"})}))}}},created(){let e=v();this.id1=e.params.trip_id,this.axios.post("/product/detail",{product_id:e.params.trip_id}).then((e=>{this.details=e.data.product;let a=new Date(this.details.end_time).getTime()-new Date(this.details.start_time).getTime();this.duration=Math.floor(a/864e5),this.star=this.details.mark,this.imageList=this.details.gallery})).catch((e=>{}))},mounted(){window.addEventListener("scroll",this.handleScroll)},destroyed(){window.removeEventListener("scroll",this.handleScroll)},methods:{toggleModel(){this.showModalModel=!this.showModalModel},handleScroll(){this.scrollTop=window.pageYOffset||document.documentElement.scrollTop},prevImage(){this.currentIndex=(this.currentIndex-1+this.imageList.length)%this.imageList.length},nextImage(){this.currentIndex=(this.currentIndex+1)%this.imageList.length}},computed:{blockTop(){return this.scrollTop>this.threshold?this.threshold+182-this.scrollTop+"px":this.scrollTop>this.blockHeight-182?"182px":this.blockHeight-this.scrollTop+"px"}}},ns=e=>(g("data-v-1d31d523"),e=e(),w(),e),ds={class:"pd"},us={class:"TDCon",style:{"margin-top":"80px"}},ps={class:"space"},vs={class:"TDTit"},ms={class:"TDT"},hs={class:"lower"},gs={class:"TDRow"},ws={class:"TDReview"},fs=ns((()=>s("img",{class:"loc",src:"/assets/location-0bf683b7.svg",alt:""},null,-1))),_s={class:"TDLoc"},bs={class:"map"},ys={class:"pd"},Ts={class:"TDCon"},xs={class:"DTCols1"},ks={class:"TDInput_border"},Cs=ns((()=>s("div",{class:"icon_add"},null,-1))),Rs={type:"submit",class:"TDmodel"},Ds=ns((()=>s("div",{class:"icon_add"},null,-1))),Ms=["disabled"],$s=ns((()=>s("div",{class:"icon_add"},null,-1))),Ls=["src"],As={key:0,class:"modal"},Ps={class:"modal-container"},Is=["src"],zs={class:"image-buttons"},Ws=["src"],js=["src"],Ss={class:"TDTex1"},Fs={class:"TDRow1"},Es={class:"TDR1"},Bs=ns((()=>s("img",{class:"TDIcon1",src:"/assets/time_icon-70797959.svg",alt:""},null,-1))),Vs={class:"TDT1"},Ns=ns((()=>s("br",null,null,-1))),Hs={class:"TDR1"},Os=ns((()=>s("img",{class:"TDIcon1",src:"/assets/group-14ee0909.svg",alt:""},null,-1))),Us={class:"TDT1"},Ys=ns((()=>s("br",null,null,-1))),Gs={class:"TDR1"},qs=ns((()=>s("img",{class:"TDIcon1",src:"/assets/TDtag-3ee5cbfb.svg",alt:""},null,-1))),Xs={class:"TDT1"},Js=ns((()=>s("br",null,null,-1))),Ks=ns((()=>s("div",{class:"TDLine"},null,-1))),Qs={class:"TDOverview"},Zs={class:"TDTex2"},el={class:"TDTex3"},al=ns((()=>s("div",{class:"TDSpace"},null,-1))),tl={class:"TDBox"},sl={class:"TDTex5"},ll={class:"TDTex6"},il={class:"TDDate"},ol={class:"TDOptionName"},rl={class:"TDDataPickers"},cl=ns((()=>s("span",null,"—",-1))),nl={class:"TDDate"},dl={class:"TDOptionName"},ul={class:"book"},pl={class:"input_border"},vl={class:"com"},ml=ns((()=>s("img",{class:"love",src:"/assets/love4-1cbf6810.svg"},null,-1))),hl={class:"TDTex7"},gl={class:"TDTex4"},wl=ns((()=>s("div",{class:"TDLine full"},null,-1))),fl=ns((()=>s("div",{class:"TDLine full"},null,-1))),_l=ns((()=>s("div",{class:"TDLine full"},null,-1))),bl=ns((()=>s("div",{class:"TDLine full"},null,-1)));const yl=i(cs,[["render",function(e,l,i,o,p,v){const g=r("navigation-bar"),w=r("n-rate"),f=r("n-carousel"),_=r("n-input-number"),y=r("n-space"),x=r("charge-list"),k=r("guest-reviews"),C=r("leave-reply"),R=r("similar-experiences"),D=r("footer-view");return a(),t(m,null,[n(g),s("section",ds,[s("div",us,[s("div",ps,[s("div",vs,[s("h1",ms,c(p.details.name),1),s("div",hs,[s("div",gs,[n(w,{size:"small",readonly:"","allow-half":"",value:p.details.mark},null,8,["value"])]),s("div",ws,c(e.$t("mostPopularTours.reviews",{reviews:p.details.reviews})),1),fs,s("div",_s,c(p.details.location),1),s("button",bs,c(e.$t("traveldetails.showOnMap")),1)])])])])]),s("section",ys,[s("div",Ts,[s("div",xs,[s("div",ks,[s("button",{type:"submit",class:"TDAdd_btn",onClick:l[0]||(l[0]=e=>p.showModal=!0)},[T(c(e.$t("traveldetails.seeAllPhotos"))+" ",1),Cs]),s("button",Rs,[T(c(e.$t("traveldetails.seeModel"))+" ",1),Ds]),s("button",{type:"submit",class:"TDmodel",onClick:l[1]||(l[1]=(...e)=>v.toggleModel&&v.toggleModel(...e)),disabled:!p.details.model},[T(c(p.details.model?p.showModalModel?"Hide Model":"See Model":"No Model")+" ",1),$s],8,Ms),$(s("iframe",{allowfullscreen:"",class:"model",loading:"lazy",frameborder:"0",src:p.details.model},null,8,Ls),[[L,p.showModalModel]]),p.showModal?(a(),t("div",As,[s("div",Ps,[s("div",{class:"close-button",onClick:l[2]||(l[2]=e=>p.showModal=!1)},"X"),(a(),t("img",{src:p.imageList[p.currentIndex],key:p.currentIndex,class:"enlarge-image"},null,8,Is)),s("div",zs,[s("div",{class:"prev-button",onClick:l[3]||(l[3]=(...e)=>v.prevImage&&v.prevImage(...e))},"<-"),s("div",{class:"next-button",onClick:l[4]||(l[4]=(...e)=>v.nextImage&&v.nextImage(...e))},"->")])])])):b("",!0)]),n(f,{"show-arrow":"",class:"TDImg",draggable:""},{default:d((()=>[s("img",{class:"carousel-img",src:p.details.cover_image},null,8,Ws),(a(!0),t(m,null,h(p.details.banner_image,(e=>(a(),t("div",null,[s("img",{class:"carousel-img",src:e},null,8,js)])))),256))])),_:1}),s("h3",Ss,c(e.$t("traveldetails.tourSnapshot")),1),s("div",Fs,[s("div",Es,[Bs,s("div",Vs,[T(c(e.$t("traveldetails.duration")),1),Ns,T(" "+c(e.$t("traveldetails.day",{duration:p.duration})),1)])]),s("div",Hs,[Os,s("div",Us,[T(c(e.$t("traveldetails.groupSize")),1),Ys,T(" "+c(p.details.group_number),1)])]),(a(!0),t(m,null,h(p.details.tags,(e=>(a(),t("div",null,[s("div",Gs,[qs,s("div",Xs,[T(c(e.key)+": ",1),Js,T(c(e.value),1)])])])))),256))]),Ks,s("div",Qs,[s("h3",Zs,c(e.$t("traveldetails.overview")),1),s("p",el,c(p.details.description),1)]),al]),s("div",{class:"TDConBox",style:u({top:v.blockTop})},[s("div",tl,[s("div",sl,[T(c(e.$t("traveldetails.price"))+" ",1),s("span",ll,"US$"+c(p.details.price),1)]),s("div",il,[s("div",ol,c(e.$t("traveldetails.date")),1),s("div",rl,[T(c(p.details.start_time)+" ",1),cl,T(" "+c(p.details.end_time),1)])]),s("div",nl,[s("div",dl,c(e.$t("traveldetails.numberOfTravelers")),1),n(y,{vertical:""},{default:d((()=>[n(_,{value:o.groupNum,"onUpdate:value":l[5]||(l[5]=e=>o.groupNum=e),placeholder:e.$t("traveldetails.groupNumber"),min:1,max:p.details.group_number,size:"large"},null,8,["value","placeholder","max"])])),_:1})]),s("div",ul,[s("div",pl,[s("button",{type:"submit",class:"add_step_btn c",onClick:l[6]||(l[6]=(...e)=>o.handleClickProject&&o.handleClickProject(...e))},c(e.$t("homepage.discountPart.button")),1)])]),s("div",vl,[ml,s("div",hl,c(e.$t("traveldetails.moreThanHalfOfTravelersRecommendThisTrip")),1)])]),s("div",gl,c(e.$t("traveldetails.notSureYouCanCancelThisReservationUpTo24HoursInAdv")),1)],4)]),wl]),n(x),fl,n(k),_l,n(C),bl,n(R),n(D)],64)}],["__scopeId","data-v-1d31d523"]]);export{yl as default};
