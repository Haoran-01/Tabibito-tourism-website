import{l as M,o as u,c as h,b as s,m as P,_ as S,k as $,r as _,t as c,a as t,w as n,E as N,G as E,H as W,F as y,j as k,p as A,f as j,q as V,I as H,d as b,J as U,g as B,s as O,n as G,K as Y,u as q,i as K}from"./index-fbacc1f8.js";import{L as X}from"./index.esm-a8d27367.js";import{A as J}from"./ArrowBack-bcfa98aa.js";import{A as Q}from"./ArrowForward-bdffe69d.js";import{N as Z}from"./navigationBar-ef5f0c37.js";import{F as ss}from"./footerView-ad55b9ab.js";const ts={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},es=s("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M268 112l144 144l-144 144"},null,-1),os=s("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M392 256H100"},null,-1),as=[es,os],F=M({name:"ArrowForwardOutline",render:function(o,l){return u(),h("svg",ts,as)}}),is={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ns=s("path",{d:"M480 208H308L256 48l-52 160H32l140 96l-54 160l138-100l138 100l-54-160z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1),ls=s("path",{d:"M256 48v316L118 464l54-160l-140-96h172l52-160z",fill:"currentColor"},null,-1),cs=[ns,ls],rs=M({name:"StarHalf",render:function(o,l){return u(),h("svg",is,cs)}}),ds={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},_s=P('<path d="M39.94 178l144.16 6.12c4.61.36 23.9 1.22 23.9 25.88c0 23.8-19.16 25.33-24.14 25.88L39.94 242C27.27 241.87 16 227.56 16 210s11.27-31.87 23.94-32zm141.45 131.66L74.65 318C62 318 48 301.31 48 284.12v-.33c0-16.33 11.14-29.63 24.88-29.79l108.45 1.72C208 259 208 275.16 208 282.12c0 22.88-21.8 27.14-26.61 27.54zM90.15 32l89.37 8.93C204 41.86 208 58.18 208 68.4c0 18.39-13.41 24.6-26.67 24.6l-91 3C75.78 95.78 64 81.51 64 64s11.68-31.66 26.15-32zm-34.36 71.5l126.4 6.22c9.39.63 25.81 3 25.81 26.36c0 12-4.35 25.62-25 27.53L55.79 167.5C42.65 167.35 32 154 32 136.08s10.65-32.43 23.79-32.58z" fill="currentColor"></path><path d="M378.45 273.93A15.84 15.84 0 0 1 386 272a15.93 15.93 0 0 0-7.51 1.91z" fill="none"></path><path d="M337.86 343.22l-.13.22a2.53 2.53 0 0 1 .13-.22c20.5-35.51 30.36-55 33.82-62c-3.47 7.06-13.34 26.51-33.82 62z" fill="none"></path><path d="M372.66 279.16l-1 2a16.29 16.29 0 0 1 6.77-7.26a16.48 16.48 0 0 0-5.77 5.26z" fill="currentColor"></path><path d="M195.94 459.38C205.37 472.67 221 480 240 480a16 16 0 0 0 14.31-8.85c3-6.06 15.25-24 28.19-42.9c18-26.33 40.35-59.08 55.23-84.81l.13-.22c20.48-35.49 30.35-54.94 33.82-62l1-2a16.48 16.48 0 0 1 5.79-5.23A15.93 15.93 0 0 1 386 272h25.32A84.7 84.7 0 0 0 496 187.3v-38.6A84.7 84.7 0 0 0 411.31 64h-48.79a17.46 17.46 0 0 1-9.58-2.89C330 46.13 286.66 32 240 32c-7.45 0-14.19.14-20.27.38a8 8 0 0 0-6.2 12.68l.1.14C222.2 57.59 224 71 224 80a61.16 61.16 0 0 1-5.19 24.77a17.38 17.38 0 0 0 0 14.06a63.81 63.81 0 0 1 0 50.39a17.32 17.32 0 0 0 0 14a62.13 62.13 0 0 1 0 49.58a18.13 18.13 0 0 0 0 14.68A60.41 60.41 0 0 1 224 273c0 8.2-2 21.3-8 31.18a15.66 15.66 0 0 0-1.14 13.65c.38 1 .76 2.06 1.13 3.17a24.8 24.8 0 0 1 .86 11.57c-3 19.35-9.67 36.3-16.74 54.16c-3.08 7.78-6.27 15.82-9.22 24.27c-6.14 17.56-4.3 35.2 5.05 48.38z" fill="currentColor"></path>',5),us=[_s],hs=M({name:"ThumbsDown",render:function(o,l){return u(),h("svg",ds,us)}}),ps={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},vs=P('<path d="M472.06 334l-144.16-6.13c-4.61-.36-23.9-1.21-23.9-25.87c0-23.81 19.16-25.33 24.14-25.88L472.06 270c12.67.13 23.94 14.43 23.94 32s-11.27 31.87-23.94 32zM330.61 202.33L437.35 194C450 194 464 210.68 464 227.88v.33c0 16.32-11.14 29.62-24.88 29.79l-108.45-1.73C304 253 304 236.83 304 229.88c0-22.88 21.8-27.15 26.61-27.55zM421.85 480l-89.37-8.93C308 470.14 304 453.82 304 443.59c0-18.38 13.41-24.6 26.67-24.6l91-3c14.54.23 26.32 14.5 26.32 32s-11.67 31.67-26.14 32.01zm34.36-71.5l-126.4-6.21c-9.39-.63-25.81-3-25.81-26.37c0-12 4.35-25.61 25-27.53l127.19-3.88c13.16.14 23.81 13.49 23.81 31.4s-10.65 32.43-23.79 32.58z" fill="currentColor"></path><path d="M133.55 238.06A15.85 15.85 0 0 1 126 240a15.82 15.82 0 0 0 7.51-1.92z" fill="none"></path><path d="M174.14 168.78l.13-.23l-.13.23c-20.5 35.51-30.36 54.95-33.82 62c3.47-7.07 13.34-26.51 33.82-62z" fill="none"></path><path d="M139.34 232.84l1-2a16.27 16.27 0 0 1-6.77 7.25a16.35 16.35 0 0 0 5.77-5.25z" fill="currentColor"></path><path d="M316.06 52.62C306.63 39.32 291 32 272 32a16 16 0 0 0-14.31 8.84c-3 6.07-15.25 24-28.19 42.91c-18 26.33-40.35 59.07-55.23 84.8l-.13.23c-20.48 35.49-30.35 54.93-33.82 62l-1 2a16.35 16.35 0 0 1-5.79 5.22a15.82 15.82 0 0 1-7.53 2h-25.31A84.69 84.69 0 0 0 16 324.69v38.61a84.69 84.69 0 0 0 84.69 84.7h48.79a17.55 17.55 0 0 1 9.58 2.89C182 465.87 225.34 480 272 480c7.45 0 14.19-.14 20.27-.38a8 8 0 0 0 6.2-12.68l-.1-.14C289.8 454.41 288 441 288 432a61.2 61.2 0 0 1 5.19-24.77a17.36 17.36 0 0 0 0-14.05a63.81 63.81 0 0 1 0-50.39a17.32 17.32 0 0 0 0-14a62.15 62.15 0 0 1 0-49.59a18.13 18.13 0 0 0 0-14.68A60.33 60.33 0 0 1 288 239c0-8.2 2-21.3 8-31.19a15.63 15.63 0 0 0 1.14-13.64c-.38-1-.76-2.07-1.13-3.17a24.84 24.84 0 0 1-.86-11.58c3-19.34 9.67-36.29 16.74-54.16c3.08-7.78 6.27-15.82 9.22-24.26c6.14-17.57 4.3-35.2-5.05-48.38z" fill="currentColor"></path>',5),ms=[vs],fs=M({name:"ThumbsUp",render:function(o,l){return u(),h("svg",ps,ms)}});const gs={props:["item","index"],name:"itineraryStep",setup(e){console.log(e.item);let o=$(!1),l=$("See details & photo");return{show:o,moreInfoText:l,handleInfo(){o.value===!1?(o.value=!0,l.value="See Less"):(o.value=!1,l.value="See details & photo")}}}},ws={class:"container"},$s={class:"index"},bs={class:"information"},xs={class:"title"},ys={class:"time"},Ts={class:"description"};function Cs(e,o,l,d,r,p){const i=_("n-collapse-transition");return u(),h("div",ws,[s("div",$s,c(parseInt(l.index)+1),1),s("div",bs,[s("div",xs,c(l.item.description),1),s("div",ys,c(l.item.time),1),t(i,{show:d.show},{default:n(()=>[s("div",{class:"picture",style:N("background-image: url("+l.item.picture+")")},null,4),s("div",Ts,c(l.item.name),1)]),_:1},8,["show"]),s("div",{class:"moreInfo",onClick:o[0]||(o[0]=(...a)=>d.handleInfo&&d.handleInfo(...a))},c(d.moreInfoText),1)])])}const ks=S(gs,[["render",Cs],["__scopeId","data-v-db7e8760"]]);const Ds={name:"itineraryPart",components:{ItineraryStep:ks},setup(){let e=null,o=1;const l=$([]),d=[],r=E();let p="en-US";return r.language==="zh"&&(p="zh-CN"),{raw_trip_data:l,project_loc:e,project_zoom:o,locations:d,loadMap(){new X({apiKey:"AIzaSyBctzU8ocpP_0j4IdTRqA-GABIAnaXd0ow",version:"beta",libraries:["marker"],language:p}).load().then(a=>{const m=this.project_loc;let x=new a.maps.Map(document.getElementById("map"),{center:m,zoom:this.project_zoom,mapId:"jkhjkhkjhjkh"});const T=this.locations,w=new a.maps.InfoWindow;T.forEach(({position:v,title:C},z)=>{const L=new a.maps.marker.PinView({glyph:`${z+1}`}),g=new a.maps.marker.AdvancedMarkerView({position:v,map:x,title:`${z+1}. ${C}`,content:L.element});g.addListener("click",({domEvent:Ta,latLng:Ca})=>{w.close(),w.setContent(g.title),w.open(g.map,g)})})})}}},created(){const e=W();this.axios.post("http://127.0.0.1:5000/product/trips",{product_id:e.params.trip_id}).then(o=>{this.project_loc={lat:o.data.location.map_latitude,lng:o.data.location.map_longitude},this.project_zoom=o.data.location.map_zoom,this.raw_trip_data.value=o.data.trips;for(let l=0;l<this.raw_trip_data.value.length;l++)this.locations.push({position:{lat:this.raw_trip_data.value[l].location.map_latitude,lng:this.raw_trip_data.value[l].location.map_longitude},title:this.raw_trip_data.value[l].location.exact}),this.itineraryData.push({name:this.raw_trip_data.value[l].activity,time:"Day "+this.raw_trip_data.value[l].day+", "+this.raw_trip_data.value[l].time_of_day+" "+this.raw_trip_data.value[l].time,description:this.raw_trip_data.value[l].location.exact,picture:this.raw_trip_data.value[l].picture});this.loadMap()})},data(){return{itineraryData:[]}}},Is=e=>(A("data-v-9ca66293"),e=e(),j(),e),Ls={class:"container"},Ss={class:"itineraryTitle"},zs={class:"itineraryCore"},Ms={class:"timeLine"},As=Is(()=>s("div",{class:"map",id:"map"},null,-1));function js(e,o,l,d,r,p){const i=_("itinerary-step");return u(),h("div",Ls,[s("div",Ss,c(e.$t("projectDetailPage.itinerary.title")),1),s("div",zs,[s("div",Ms,[(u(!0),h(y,null,k(this.itineraryData,(a,m)=>(u(),h("div",null,[t(i,{item:a,index:m},null,8,["item","index"])]))),256))]),As])])}const Ps=S(Ds,[["render",js],["__scopeId","data-v-9ca66293"]]);const Ws={name:"chargeList",components:{ItineraryPart:Ps},setup(){},created(){const e=W(),o=V();this.axios.post("/product/charge_detail",{product_id:e.params.trip_id}).then(l=>{l.status===200?(this.chargeListData=l.data.charges,console.log(this.chargeListData)):o.push("/404")})},data(){return{chargeListData:[]}}},Ns=e=>(A("data-v-8dab7e1f"),e=e(),j(),e),Bs={class:"container"},Fs={class:"chargeListTitle"},Rs={class:"chargeList"},Es=Ns(()=>s("div",{class:"divider"},null,-1));function Vs(e,o,l,d,r,p){const i=_("n-card"),a=_("itinerary-part");return u(),h(y,null,[s("div",Bs,[s("div",Fs,c(e.$t("projectDetailPage.ChargeList.title")),1),s("div",Rs,[(u(!0),h(y,null,k(this.chargeListData,m=>(u(),H(i,{title:m.name,hoverable:""},{default:n(()=>[b(c(m.description),1)]),_:2},1032,["title"]))),256))])]),Es,t(a)],64)}const Hs=S(Ws,[["render",Vs],["__scopeId","data-v-8dab7e1f"]]);const Us=M({name:"guestReviews",components:{ThumbsUp:fs,ThumbsDown:hs,ArrowForwardOutline:F},setup(){const e=$(!1);return{handleClick(){e.value=!0,setTimeout(()=>{e.value=!1},2e3)},loading:e}},data(){return{countPage:$(),comments:[{}],scores:{},percentage:{},reviews:{}}},created(){var e=this;this.axios.post("/product/get_comment",{page:1,product_id:9}).then(o=>{o.status===200&&(e.comments=o.data.comments)}),this.axios.post("/product/get_reviews",{product_id:9}).then(o=>{if(o.status===200){const d=o.data.number;e.countPage=Math.floor(d/10)+(d%10>0?1:0)}})},methods:{pageChange(e){this.axios.post("/product/get_comment",{page:e}).then(function(o){this.comments=o.data.comments}).catch(function(o){console.log(o)})}},mounted(){for(const[o,l]of Object.entries(this.scores))this.$set(this.percentage,o,Math.round(l*10));var e=this;this.axios.post("/product/get_product_grade",{product_id:9}).then(function(o){e.scores=o.data}).catch(o=>{console.error(o)}),this.axios.post("http://127.0.0.1:5000/product/get_reviews",{product_id:9}).then(function(o){e.reviews=o.data}).catch(o=>{console.error(o)})}}),D=e=>(A("data-v-c09107e3"),e=e(),j(),e),Os={class:"container"},Gs={class:"row y-gap-30 guest_reviews_wrap"},Ys={class:"col-xl-3"},qs=D(()=>s("h3",{class:"gr_title"}," Guest reviews ",-1)),Ks={class:"exceptional"},Xs={class:"ex_point"},Js={class:"ex_sub_wrap"},Qs=D(()=>s("div",{class:"ex_text"}," Exceptional ",-1)),Zs={class:"ex_sta"},st={class:"row y-gap-20 bars"},tt={class:"col-12"},et={class:""},ot={class:"bar_head"},at=D(()=>s("div",{class:"bar_title"}," Location ",-1)),it={class:"bar_score"},nt={class:"bar_progress"},lt={class:"col-12"},ct={class:""},rt={class:"bar_head"},dt=D(()=>s("div",{class:"bar_title"}," Staff ",-1)),_t={class:"bar_score"},ut={class:"bar_progress"},ht={class:"col-12"},pt={class:""},vt={class:"bar_head"},mt=D(()=>s("div",{class:"bar_title"}," Cleanliness ",-1)),ft={class:"bar_score"},gt={class:"bar_progress"},wt={class:"col-12"},$t={class:""},bt={class:"bar_head"},xt=D(()=>s("div",{class:"bar_title"}," Value for money ",-1)),yt={class:"bar_score"},Tt={class:"bar_progress"},Ct={class:"col-12"},kt={class:""},Dt={class:"bar_head"},It=D(()=>s("div",{class:"bar_title"}," Comfort ",-1)),Lt={class:"bar_score"},St={class:"bar_progress"},zt={class:"col-12"},Mt={class:""},At={class:"bar_head"},jt=D(()=>s("div",{class:"bar_title"}," Facilities ",-1)),Pt={class:"bar_score"},Wt={class:"bar_progress"},Nt={class:"col-12"},Bt={class:""},Ft={class:"bar_head"},Rt=D(()=>s("div",{class:"bar_title"}," Free WiFi ",-1)),Et={class:"bar_score"},Vt={class:"bar_progress"},Ht={class:"col-xl-8"},Ut={class:"row y-gap-30"},Ot={class:"col-12"},Gt={class:"row y-gap-20 x-gap-20 comment_head"},Yt={class:"col-auto"},qt=["src"],Kt={class:"col-auto"},Xt={class:"user_name"},Jt={class:"date"},Qt={class:"comment_title"},Zt={class:"comment_content"},se={class:"row x-gap-20 y-gap-30 comment_photos"},te={class:"col-auto"},ee=["src"],oe={class:"comment_foot x-gap-20"};function ae(e,o,l,d,r,p){const i=_("n-progress"),a=_("ThumbsUp"),m=_("n-icon"),x=_("n-button"),T=_("ThumbsDown"),w=_("n-pagination");return u(),h("div",Os,[s("div",Gs,[s("div",Ys,[qs,s("div",Ks,[s("div",Xs,c(e.scores.exceptional),1),s("div",Js,[Qs,s("div",Zs,c(e.reviews.reviews_num)+" reviews ",1)])]),s("div",st,[s("div",tt,[s("div",et,[s("div",ot,[at,s("div",it,c(e.scores.location),1)]),s("div",nt,[t(i,{type:"line","show-indicator":!1,percentage:94,processing:""})])])]),s("div",lt,[s("div",ct,[s("div",rt,[dt,s("div",_t,c(e.scores.staff),1)]),s("div",ut,[t(i,{type:"line","show-indicator":!1,percentage:94,processing:""})])])]),s("div",ht,[s("div",pt,[s("div",vt,[mt,s("div",ft,c(e.scores.cleanliness),1)]),s("div",gt,[t(i,{type:"line","show-indicator":!1,percentage:94,processing:""})])])]),s("div",wt,[s("div",$t,[s("div",bt,[xt,s("div",yt,c(e.scores.value_for_money),1)]),s("div",Tt,[t(i,{type:"line","show-indicator":!1,percentage:94,processing:""})])])]),s("div",Ct,[s("div",kt,[s("div",Dt,[It,s("div",Lt,c(e.scores.comfort),1)]),s("div",St,[t(i,{type:"line","show-indicator":!1,percentage:94,processing:""})])])]),s("div",zt,[s("div",Mt,[s("div",At,[jt,s("div",Pt,c(e.scores.facilities),1)]),s("div",Wt,[t(i,{type:"line","show-indicator":!1,percentage:94,processing:""})])])]),s("div",Nt,[s("div",Bt,[s("div",Ft,[Rt,s("div",Et,c(e.scores.free_wifi),1)]),s("div",Vt,[t(i,{type:"line","show-indicator":!1,percentage:94,processing:""})])])])])]),s("div",Ht,[s("div",Ut,[(u(!0),h(y,null,k(e.comments,v=>(u(),h("div",Ot,[s("div",Gt,[s("div",Yt,[s("img",{src:v.user_portrait,class:"avatar"},null,8,qt)]),s("div",Kt,[s("div",Xt,c(v.user_name),1),s("div",Jt,c(v.date_time),1)])]),s("h5",Qt,c(v.title),1),s("p",Zt,c(v.des),1),(u(!0),h(y,null,k(v.pic,C=>(u(),h("div",se,[s("div",te,[s("img",{src:C,class:"photo"},null,8,ee)])]))),256)),s("div",oe,[t(x,{text:"",loading:e.loading,onClick:e.handleClick},{icon:n(()=>[t(m,{size:"16px"},{default:n(()=>[t(a)]),_:1})]),default:n(()=>[b(" Helpful ")]),_:1},8,["loading","onClick"]),t(x,{text:"",loading:e.loading,onClick:e.handleClick},{icon:n(()=>[t(m,{size:"16px"},{default:n(()=>[t(T)]),_:1})]),default:n(()=>[b(" Not helpful ")]),_:1},8,["loading","onClick"])])]))),256)),t(w,{class:"page",page:e.page,"onUpdate:page":o[0]||(o[0]=v=>e.page=v),"on-update:page":e.pageChange,"page-count":e.countPage},null,8,["page","on-update:page","page-count"])])])])])}const ie=S(Us,[["render",ae],["__scopeId","data-v-c09107e3"]]);const ne=M({name:"leaveReply",components:{star:rs,ArrowForwardOutline:F},data(){return{value:$(null)}},setup(){const e=$(""),o=$("");return{title:e,des:o,handleComment:async()=>{try{const d=await U.post("http://127.0.0.1:5000/comment/add_comment",{title:e.value,des:o.value,user_id:null,product_id:9,location_grade:9,staff_grade:9,cleanliness_grade:9,value_for_money_grade:9,comfort_grade:9,facilities_grade:9,free_wifi_grade:9,pics:[]});console.log(d.data)}catch(d){console.error(d)}}}}}),I=e=>(A("data-v-49327e23"),e=e(),j(),e),le={class:"container"},ce={class:"row y-gap-30 leave_message_wrap"},re={class:"col-xl-3"},de=I(()=>s("div",{class:"row"},[s("div",{class:"col-auto"},[s("h3",{class:"lm_left_title"}," Leave a Reply "),s("p",{class:"lm_left_subtitle"}," Your email address will not be published. ")])],-1)),_e={class:"row y-gap-30 lm_left_stars"},ue={class:"col-sm-6"},he=I(()=>s("div",{class:"star_title"}," Location ",-1)),pe={class:"star_wrap"},ve={class:"col-sm-6"},me=I(()=>s("div",{class:"star_title"}," Staff ",-1)),fe={class:"star_wrap"},ge={class:"col-sm-6"},we=I(()=>s("div",{class:"star_title"}," Cleanliness ",-1)),$e={class:"star_wrap"},be={class:"col-sm-6"},xe=I(()=>s("div",{class:"star_title"}," Value for money ",-1)),ye={class:"star_wrap"},Te={class:"col-sm-6"},Ce=I(()=>s("div",{class:"star_title"}," Comfort ",-1)),ke={class:"star_wrap"},De={class:"col-sm-6"},Ie=I(()=>s("div",{class:"star_title"}," Facilities ",-1)),Le={class:"star_wrap"},Se={class:"col-sm-6"},ze=I(()=>s("div",{class:"star_title"}," Free WiFi ",-1)),Me={class:"star_wrap"},Ae={class:"list_wrap"},je={class:"form_input"},Pe={class:"form_input"};function We(e,o,l,d,r,p){const i=_("star"),a=_("n-icon"),m=_("n-input"),x=_("ArrowForwardOutline"),T=_("n-button"),w=_("n-space");return u(),h("section",null,[s("div",le,[s("div",ce,[s("div",re,[de,s("div",_e,[s("div",ue,[he,s("div",pe,[t(a,{class:"star"},{default:n(()=>[t(i)]),_:1}),t(a,{class:"star"},{default:n(()=>[t(i)]),_:1}),t(a,{class:"star"},{default:n(()=>[t(i)]),_:1}),t(a,{class:"star"},{default:n(()=>[t(i)]),_:1}),t(a,{class:"star"},{default:n(()=>[t(i)]),_:1})])]),s("div",ve,[me,s("div",fe,[t(a,{class:"star"},{default:n(()=>[t(i)]),_:1}),t(a,{class:"star"},{default:n(()=>[t(i)]),_:1}),t(a,{class:"star"},{default:n(()=>[t(i)]),_:1}),t(a,{class:"star"},{default:n(()=>[t(i)]),_:1}),t(a,{class:"star"},{default:n(()=>[t(i)]),_:1})])]),s("div",ge,[we,s("div",$e,[t(a,{class:"star"},{default:n(()=>[t(i)]),_:1}),t(a,{class:"star"},{default:n(()=>[t(i)]),_:1}),t(a,{class:"star"},{default:n(()=>[t(i)]),_:1}),t(a,{class:"star"},{default:n(()=>[t(i)]),_:1}),t(a,{class:"star"},{default:n(()=>[t(i)]),_:1})])]),s("div",be,[xe,s("div",ye,[t(a,{class:"star"},{default:n(()=>[t(i)]),_:1}),t(a,{class:"star"},{default:n(()=>[t(i)]),_:1}),t(a,{class:"star"},{default:n(()=>[t(i)]),_:1}),t(a,{class:"star"},{default:n(()=>[t(i)]),_:1}),t(a,{class:"star"},{default:n(()=>[t(i)]),_:1})])]),s("div",Te,[Ce,s("div",ke,[t(a,{class:"star"},{default:n(()=>[t(i)]),_:1}),t(a,{class:"star"},{default:n(()=>[t(i)]),_:1}),t(a,{class:"star"},{default:n(()=>[t(i)]),_:1}),t(a,{class:"star"},{default:n(()=>[t(i)]),_:1}),t(a,{class:"star"},{default:n(()=>[t(i)]),_:1})])]),s("div",De,[Ie,s("div",Le,[t(a,{class:"star"},{default:n(()=>[t(i)]),_:1}),t(a,{class:"star"},{default:n(()=>[t(i)]),_:1}),t(a,{class:"star"},{default:n(()=>[t(i)]),_:1}),t(a,{class:"star"},{default:n(()=>[t(i)]),_:1}),t(a,{class:"star"},{default:n(()=>[t(i)]),_:1})])]),s("div",Se,[ze,s("div",Me,[t(a,{class:"star"},{default:n(()=>[t(i)]),_:1}),t(a,{class:"star"},{default:n(()=>[t(i)]),_:1}),t(a,{class:"star"},{default:n(()=>[t(i)]),_:1}),t(a,{class:"star"},{default:n(()=>[t(i)]),_:1}),t(a,{class:"star"},{default:n(()=>[t(i)]),_:1})])])])]),s("div",Ae,[t(w,{vertical:""},{default:n(()=>[s("div",je,[t(m,{value:e.title,"onUpdate:value":o[0]||(o[0]=v=>e.title=v),type:"text",size:"large",placeholder:"Title",clearable:"","show-count":"",maxlength:12,"count-graphemes":e.countGraphemes},null,8,["value","count-graphemes"])]),s("div",Pe,[t(m,{value:e.des,"onUpdate:value":o[1]||(o[1]=v=>e.des=v),type:"textarea",size:"large",placeholder:"Write Your Comment",clearable:"","show-count":"",maxlength:200,"count-graphemes":e.countGraphemes},null,8,["value","count-graphemes"])]),t(T,{strong:"",secondary:"",type:"info",size:"large","icon-placement":"right",onClick:e.handleComment},{icon:n(()=>[t(a,null,{default:n(()=>[t(x)]),_:1})]),default:n(()=>[b(" Post Comment ")]),_:1},8,["onClick"])]),_:1})])])])])}const Ne=S(ne,[["render",We],["__scopeId","data-v-49327e23"]]);const Be={components:{ArrowBack:J,ArrowForward:Q},name:"similarExperience",data(){return{windowWidth:document.documentElement.clientWidth,recommends:[]}},setup(){let e=$(3),o=$(20),l=$({});return B().appContext.config.globalProperties.axios.get("http://127.0.0.1:5000/recommend/products").then(r=>{l.value=r.data.products;for(let p=0;p<l.value.length;p++){let i=l.value[p].duration,a=Math.round(i/3600),m=Math.round(a/24);a>24&&m===1&&(l.value[p].duration="1 Day"),a>24&&m>1&&(l.value[p].duration=m+" Days"),a===1&&(l.value[p].duration="1 Hour"),a<24&&a!==1&&(l.value[p].duration=a+" Hours")}}).catch(r=>{console.error(r)}),window.fullWidth=document.documentElement.clientWidth,window.fullWidth<550?(e.value=1,o.value=0):window.fullWidth<=700?(e.value=2,o.value=13):window.fullWidth<=900?(e.value=2,o.value=15):window.fullWidth<=1100?(e.value=3,o.value=15):window.fullWidth>=1100&&(e.value=3,o.value=20),O(()=>{window.addEventListener("resize",()=>{window.fullWidth=document.documentElement.clientWidth,window.fullWidth<550?(e.value=1,o.value=0):window.fullWidth<=700?(e.value=2,o.value=13):window.fullWidth<=900?(e.value=2,o.value=15):window.fullWidth<=1100?(e.value=3,o.value=15):window.fullWidth>=1100&&(e.value=3,o.value=20)})}),{slides_per_view:e,space_between:o,recommends:l}}},R=e=>(A("data-v-56fd4362"),e=e(),j(),e),Fe={class:"mostPopularLayout-pt mostPopularLayout-pb"},Re={class:"container"},Ee=P('<div class="mostPopularHead" data-v-56fd4362><div class="col-auto" data-v-56fd4362><div class="sectionTitle -md" data-v-56fd4362><h2 class="sectionTitle__title" data-v-56fd4362>Similar Experiences</h2><p class="sectionTitle__text" data-v-56fd4362>Interdum et malesuada fames ac ante ipsum</p></div><div class="col-auto" data-v-56fd4362><a href="#" class="button -md -blue-1 bg-blue-1-05 text-blue-1" data-v-56fd4362> More <div class="icon" data-v-56fd4362></div></a></div></div></div>',1),Ve={class:"most-popular-contents","data-gap":"30","data-slider-cols":"xl-5 lg-4 md-2 sm-2 base-1","data-nav-prev":"js-team-prev","data-pagination":"js-team-pag","data-nav-next":"js-team-next"},He=["src"],Ue={class:"custom-arrow"},Oe=["onClick"],Ge=["onClick"],Ye={class:"custom-dots"},qe=["onClick"],Ke={class:"tourCardContent"},Xe={class:"tourCardTime"},Je={class:"hours"},Qe=R(()=>s("div",{class:"dot"},null,-1)),Ze={class:"days"},so=["onClick"],to={class:"tourCardText"},eo={class:"row starsLayout"},oo={class:"col-auto"},ao={class:"starsBefore"},io=R(()=>s("div",{class:"stars"},[s("div",{class:"icon-star iconStar"}),s("div",{class:"icon-star iconStar"}),s("div",{class:"icon-star iconStar"}),s("div",{class:"icon-star iconStar"}),s("div",{class:"icon-star iconStar"})],-1)),no={class:"review"},lo={class:"col-auto"},co={class:"footer"},ro={class:"price"};function _o(e,o,l,d,r,p){const i=_("ArrowBack"),a=_("n-icon"),m=_("ArrowForward"),x=_("n-carousel"),T=_("n-card");return u(),h("section",Fe,[s("div",Re,[Ee,s("div",Ve,[t(x,{"slides-per-view":d.slides_per_view,"space-between":d.space_between,loop:!1,"show-arrow":""},{default:n(()=>[(u(!0),h(y,null,k(d.recommends,w=>(u(),h("div",{key:w.id},[t(x,{"show-arrow":"",autoplay:"","space-between":2},{arrow:n(({prev:v,next:C})=>[s("div",Ue,[s("button",{type:"button",class:"custom-arrow--left",onClick:v},[t(a,null,{default:n(()=>[t(i)]),_:1})],8,Oe),s("button",{type:"button",class:"custom-arrow--right",onClick:C},[t(a,null,{default:n(()=>[t(m)]),_:1})],8,Ge)])]),dots:n(({total:v,currentIndex:C,to:z})=>[s("ul",Ye,[(u(!0),h(y,null,k(v,L=>(u(),h("li",{key:L,class:G({["is-active"]:C===L-1}),onClick:g=>z(L-1)},null,10,qe))),128))])]),default:n(()=>[(u(!0),h(y,null,k(w.banners,v=>(u(),h("img",{class:"carousel-img",src:v},null,8,He))),256))]),_:2},1024),t(T,null,{default:n(()=>[s("div",Ke,[s("div",Xe,[s("div",Je,c(w.duration),1),Qe,s("div",Ze,c(w.types[0]),1)]),s("h4",{class:"tourCardTitle",onClick:v=>this.$router.push("/trip/"+w.id)},[s("span",null,c(w.name),1)],8,so),s("p",to,c(w.raw_loc),1),s("div",eo,[s("div",oo,[s("div",ao,[io,s("div",no,c(w.reviews)+" reviews",1)])]),s("div",lo,[s("div",co,[b(" From "),s("span",ro,"US$"+c(w.price.toFixed(2)),1)])])])])]),_:2},1024)]))),128))]),_:1},8,["slides-per-view","space-between"])])])])}const uo=S(Be,[["render",_o],["__scopeId","data-v-56fd4362"]]),ho="/assets/location-0bf683b7.svg",po="/assets/time_icon-70797959.svg",vo="/assets/group-14ee0909.svg",mo="/assets/TDtag-3ee5cbfb.svg",fo="/assets/love4-1cbf6810.svg";const go={name:"TravelDetailsView",components:{NavigationBar:Z,SimilarExperiences:uo,LeaveReply:Ne,GuestReviews:ie,ChargeList:Hs,footerView:ss},data(){return $(),$(),{showModal:!1,currentIndex:0,imageList:$(),blockHeight:310,threshold:490,scrollTop:0,details:[],duration:0,id:0}},setup(){const o=B().data.id1;let l=Y(),d=$(),r=$(),p=$();const i=q();let a=$(!1);return a.value=l.user_login_status,{startTime:d,endTime:r,groupNum:p,toast:i,user_log_in:a,id1:o,handleClickProject(){let m=this;this.axios.post("/order/create_order",{product_id:this.id1,groupNum:this.groupNum,user_id:l.user_id}).then(function(x){x.data.code===200&&m.toast.success("Successfully Reservation",{position:"bottom-right"})})}}},created(){let e=W();this.id1=e.params.trip_id,this.axios.post("/product/detail",{product_id:e.params.trip_id}).then(o=>{this.details=o.data.product;const l=new Date(this.details.end_time).getTime(),d=new Date(this.details.start_time).getTime();let r=l-d;this.duration=Math.floor(r/(1e3*60*60*24)),this.star=this.details.mark,this.imageList=this.details.gallery}).catch(o=>{console.error(o)})},mounted(){window.addEventListener("scroll",this.handleScroll)},destroyed(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){this.scrollTop=window.pageYOffset||document.documentElement.scrollTop},prevImage(){this.currentIndex=(this.currentIndex-1+this.imageList.length)%this.imageList.length},nextImage(){this.currentIndex=(this.currentIndex+1)%this.imageList.length}},computed:{blockTop(){return this.scrollTop>this.threshold?`${this.threshold+182-this.scrollTop}px`:this.scrollTop>this.blockHeight-182?"182px":`${this.blockHeight-this.scrollTop}px`}}},f=e=>(A("data-v-3a4d0678"),e=e(),j(),e),wo={class:"pd"},$o={class:"TDCon",style:{"margin-top":"80px"}},bo={class:"space"},xo={class:"TDTit"},yo={class:"TDT"},To={class:"lower"},Co={class:"TDRow"},ko={class:"TDReview"},Do=f(()=>s("img",{class:"loc",src:ho,alt:""},null,-1)),Io={class:"TDLoc"},Lo=f(()=>s("button",{class:"map"},"Show on map",-1)),So={class:"pd"},zo={class:"TDCon"},Mo={class:"DTCols1"},Ao={class:"TDInput_border"},jo=f(()=>s("div",{class:"icon_add"},null,-1)),Po={key:0,class:"modal"},Wo={class:"modal-container"},No=["src"],Bo={class:"image-buttons"},Fo=["src"],Ro=["src"],Eo=f(()=>s("h3",{class:"TDTex1"}," Tour snapshot ",-1)),Vo={class:"TDRow1"},Ho={class:"TDR1"},Uo=f(()=>s("img",{class:"TDIcon1",src:po,alt:""},null,-1)),Oo={class:"TDT1"},Go=f(()=>s("br",null,null,-1)),Yo={class:"TDR1"},qo=f(()=>s("img",{class:"TDIcon1",src:vo,alt:""},null,-1)),Ko={class:"TDT1"},Xo=f(()=>s("br",null,null,-1)),Jo={class:"TDR1"},Qo=f(()=>s("img",{class:"TDIcon1",src:mo,alt:""},null,-1)),Zo={class:"TDT1"},sa=f(()=>s("br",null,null,-1)),ta=f(()=>s("div",{class:"TDLine"},null,-1)),ea={class:"TDOverview"},oa=f(()=>s("h3",{class:"TDTex2"},"Overview",-1)),aa={class:"TDTex3"},ia=f(()=>s("div",{class:"TDSpace"},null,-1)),na={class:"TDBox"},la={class:"TDTex5"},ca={class:"TDTex6"},ra={class:"TDDate"},da=f(()=>s("div",{class:"TDOptionName"},"Date",-1)),_a={class:"TDDataPickers"},ua=f(()=>s("span",null,"—",-1)),ha={class:"TDDate"},pa=f(()=>s("div",{class:"TDOptionName"},"Number of travelers",-1)),va={class:"book"},ma={class:"input_border"},fa=f(()=>s("div",{class:"com"},[s("img",{class:"love",src:fo}),s("div",{class:"TDTex7"},"More than half of travelers recommend this trip")],-1)),ga=f(()=>s("div",{class:"TDTex4"},[b("Not sure? You can cancel this reservation up to 24 "),s("br"),b(" hours in advance for a full refund.")],-1)),wa=f(()=>s("div",{class:"TDLine full"},null,-1)),$a=f(()=>s("div",{class:"TDLine full"},null,-1)),ba=f(()=>s("div",{class:"TDLine full"},null,-1)),xa=f(()=>s("div",{class:"TDLine full"},null,-1));function ya(e,o,l,d,r,p){const i=_("navigation-bar"),a=_("n-rate"),m=_("n-carousel"),x=_("n-input-number"),T=_("n-space"),w=_("charge-list"),v=_("guest-reviews"),C=_("leave-reply"),z=_("similar-experiences"),L=_("footer-view");return u(),h(y,null,[t(i),s("section",wo,[s("div",$o,[s("div",bo,[s("div",xo,[s("h1",yo,c(r.details.name),1),s("div",To,[s("div",Co,[t(a,{size:"small",readonly:"","allow-half":"",value:r.details.mark},null,8,["value"])]),s("div",ko,c(r.details.reviews)+" reviews",1),Do,s("div",Io,c(r.details.location),1),Lo])])])])]),s("section",So,[s("div",zo,[s("div",Mo,[s("div",Ao,[s("button",{type:"submit",class:"TDAdd_btn",onClick:o[0]||(o[0]=g=>r.showModal=!0)},[b(" See All Photos "),jo]),r.showModal?(u(),h("div",Po,[s("div",Wo,[s("div",{class:"close-button",onClick:o[1]||(o[1]=g=>r.showModal=!1)},"X"),(u(),h("img",{src:r.imageList[r.currentIndex],key:r.currentIndex,class:"enlarge-image"},null,8,No)),s("div",Bo,[s("div",{class:"prev-button",onClick:o[2]||(o[2]=(...g)=>p.prevImage&&p.prevImage(...g))},"<-"),s("div",{class:"next-button",onClick:o[3]||(o[3]=(...g)=>p.nextImage&&p.nextImage(...g))},"->")])])])):K("",!0)]),t(m,{"show-arrow":"",class:"TDImg",draggable:""},{default:n(()=>[s("img",{class:"carousel-img",src:r.details.cover_image},null,8,Fo),(u(!0),h(y,null,k(r.details.banner_image,g=>(u(),h("div",null,[s("img",{class:"carousel-img",src:g},null,8,Ro)]))),256))]),_:1}),Eo,s("div",Vo,[s("div",Ho,[Uo,s("div",Oo,[b(" Duration:"),Go,b(" "+c(r.duration)+" Day ",1)])]),s("div",Yo,[qo,s("div",Ko,[b(" Group Size:"),Xo,b(" "+c(r.details.group_number),1)])]),(u(!0),h(y,null,k(r.details.tags,g=>(u(),h("div",null,[s("div",Jo,[Qo,s("div",Zo,[b(c(g.key)+": ",1),sa,b(c(g.value),1)])])]))),256))]),ta,s("div",ea,[oa,s("p",aa,c(r.details.description),1)]),ia]),s("div",{class:"TDConBox",style:N({top:p.blockTop})},[s("div",na,[s("div",la,[b(" Price "),s("span",ca,"US$"+c(r.details.price),1)]),s("div",ra,[da,s("div",_a,[b(c(r.details.start_time)+" ",1),ua,b(" "+c(r.details.end_time),1)])]),s("div",ha,[pa,t(T,{vertical:""},{default:n(()=>[t(x,{value:d.groupNum,"onUpdate:value":o[4]||(o[4]=g=>d.groupNum=g),placeholder:"Group Number",min:1,max:r.details.group_number,size:"large"},null,8,["value","max"])]),_:1})]),s("div",va,[s("div",ma,[s("button",{type:"submit",class:"add_step_btn c",onClick:o[5]||(o[5]=(...g)=>d.handleClickProject&&d.handleClickProject(...g))}," Book Now ")])]),fa]),ga],4)]),wa]),t(w),$a,t(v),ba,t(C),xa,t(z),t(L)],64)}const Ma=S(go,[["render",ya],["__scopeId","data-v-3a4d0678"]]);export{Ma as default};
