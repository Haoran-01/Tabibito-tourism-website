import{N as t}from"./navigationBar-68b72f27.js";import{F as o}from"./footerView-780810f0.js";import{_ as s,l as a,g as i,b as e,o as n,c as r,d as l,e as d,w as c,t as u,i as p,m as g,v as m,F as f,p as _,k as b}from"./index-4a8fe44e.js";const h={setup(){const t=a();return i().appContext.config.globalProperties.axios,{toast:t}},components:{FooterView:o,navigationBar:t},name:"loginView",data:()=>({inputEmail:"",inputPassword:"",from:""}),beforeRouteEnter(t,o,s){s((t=>{t.from=o}))},methods:{checkLogin(){event.preventDefault();let t=this;if(""===this.inputEmail&&this.toast.error("Email can't be blank"),""===this.inputPassword&&this.toast.error("Password can't be blank"),""===this.inputEmail||""===this.inputPassword);else{let o=this.inputEmail,s=this.inputPassword;this.axios.post("/user/login_form",{email:o,password:s}).then((function(o){let s=o.data.code,a=o.data.message;200===s?"Customer"===o.data.job?"/login"===t.from.path||"/register"===t.from.path||"/forbidden"===t.from.path||"NotFound"===t.from.name?t.$router.push("/"):t.$router.push(t.from.path):t.$router.push("/management"):400===s&&("email"===a?t.toast.error("Email is not correct"):"password"===a&&t.toast.error("Password is not correct"))})).catch((function(t){}))}},googleLogin(){this.axios.post("/user/authorize",{}).then((function(t){}))}}},v=t=>(_("data-v-fed1a94d"),t=t(),b(),t),w={class:"bg"},$={class:"container"},k={class:"border"},x={class:"font_login"},E={class:"font_acc"},P={autocomplete:"off"},L={class:"input_border"},V={class:"input_form"},j={class:"input_label"},C={class:"input_border"},F={class:"input_form"},y={class:"input_label"},q={class:"input_border"},B={class:"input_border"},N=v((()=>d("div",{class:"icon_add"},null,-1))),U={class:"input_border"},z={class:"text_center"},A=v((()=>d("i",{class:"google_icon"},null,-1))),D={class:"input_border"},I={class:"text_note"};const R=s(h,[["render",function(t,o,s,a,i,_){const b=e("navigation-bar"),h=e("router-link"),v=e("n-card"),R=e("footer-view");return n(),r(f,null,[l(b),d("div",w,[d("div",$,[l(v,{class:"card"},{default:c((()=>[d("div",k,[d("h1",x,u(t.$t("login.welcome")),1),d("p",E,[p(u(t.$t("login.noAccount"))+" ",1),l(h,{to:"/register",class:"font_blue"},{default:c((()=>[p(u(t.$t("login.signup")),1)])),_:1})]),d("form",P,[d("div",L,[d("div",V,[g(d("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=t=>i.inputEmail=t),required:""},null,512),[[m,i.inputEmail]]),d("label",j,u(t.$t("login.email")),1)])]),d("div",C,[d("div",F,[g(d("input",{type:"password","onUpdate:modelValue":o[1]||(o[1]=t=>i.inputPassword=t),required:""},null,512),[[m,i.inputPassword]]),d("label",y,u(t.$t("login.password")),1)])]),d("div",q,[l(h,{to:"/forget",class:"forget_link"},{default:c((()=>[p(u(t.$t("login.forget")),1)])),_:1})]),d("div",B,[d("button",{type:"submit",class:"add_step_btn",onClick:o[2]||(o[2]=(...t)=>_.checkLogin&&_.checkLogin(...t))},[p(u(t.$t("login.signin"))+" ",1),N])])]),d("div",U,[d("div",z,u(t.$t("login.signin2")),1),d("button",{class:"other_login_btn",onClick:o[3]||(o[3]=(...t)=>_.googleLogin&&_.googleLogin(...t))},[A,p(" "+u(t.$t("login.google")),1)])]),d("div",D,[d("div",I,u(t.$t("login.agree")),1)])])])),_:1})])]),l(R)],64)}],["__scopeId","data-v-fed1a94d"]]);export{R as default};
