import{_ as a,z as e,r as t,H as l,u as o,E as s,a as i,b as r,o as n,c as d,d as c,e as u,F as p,f as v,w as m,t as g,i as h,p as w,k as f}from"./index-4a8fe44e.js";import{L as x}from"./index.esm-edc83051.js";import{N as y}from"./navigationBar-68b72f27.js";import{H as _,L as b,T as k,C as $,S as z,a as j,b as V}from"./TodayOutline-c2d1cf50.js";import{A as C}from"./ArrowForward-47f30331.js";const P=e({name:"moreView",components:{NavigationBar:y,HeartOutline:_,LocationOutline:b,TodayOutline:k,CompassOutline:$,Search:z,StatsChartOutline:j,Star:V,ArrowForward:C},setup(){const a=t(1),e=t(1),r=t(4),n=l(),d=t(n.query.type),c=t(n.query.value);let u=null;const p=[],v=t([]),m=o();let g="en-US";"zh"===m.language&&(g="zh-CN");const h=t(!1);s(),i.post("/homepage/more_program_list",{type:d.value,value:c.value,page:a.value}).then((a=>{if(200===a.status){v.value=a.data.products;for(let a=0;a<v.length;a++){let e=v[a].duration,t=Math.round(e/3600),l=Math.round(t/24);t>24&&1===l&&(v[a].duration="1 Day"),t>24&&l>1&&(v[a].duration=l+" Days"),1===t&&(v[a].duration="1 Hour"),t<24&&1!==t&&(v[a].duration=t+" Hours")}}u={lat:v.value[0].latitude,lng:v.value[0].longitude};for(let e=0;e<v.value.length;e++)p.push({position:{lat:v.value[e].latitude,lng:v.value[e].longitude},title:v.value[e].title});w()})),i.post("/homepage/more",{type:d.value,value:c.value}).then((a=>{const t=a.data.page_number;e.value=t}));const w=()=>{new x({apiKey:"AIzaSyBctzU8ocpP_0j4IdTRqA-GABIAnaXd0ow",version:"beta",libraries:["marker"],language:g}).load().then((a=>{const e=u;let t=new a.maps.Map(document.getElementById("map"),{center:e,zoom:1,mapId:"jkhjkhkjhjkh"});const l=p,o=new a.maps.InfoWindow;l.forEach((({position:e,title:l},s)=>{const i=new a.maps.marker.PinView({glyph:`${s+1}`}),r=new a.maps.marker.AdvancedMarkerView({position:e,map:t,title:`${s+1}. ${l}`,content:i.element});r.addListener("click",(({domEvent:a,latLng:e})=>{o.close(),o.setContent(r.title),o.open(r.map,r)}))}))}))};return{morePage:a,morePages:e,moreNumber:0,morePageSize:r,loadMap:w,type:d,value:c,products:v,project_loc:u,project_zoom:1,locations:p,handleClick(){h.value=!0,setTimeout((()=>{h.value=!1}),2e3)},handleChangePage(){i.post("/homepage/more_program_list",{type:d.value,value:c.value,page:a.value}).then((a=>{if(200===a.status){v.value=a.data.products;for(let a=0;a<v.value.length;a++){let e=v.value[a].duration,t=Math.round(e/3600),l=Math.round(t/24);t>24&&1===l&&(v.value[a].duration="1 Day"),t>24&&l>1&&(v.value[a].duration=l+" Days"),1===t&&(v.value[a].duration="1 Hour"),t<24&&1!==t&&(v.value[a].duration=t+" Hours")}u={lat:v.value[0].map_latitude,lng:v.value[0].map_longitude};for(let a=0;a<v.value.length;a++)p.push({position:{lat:v.value[a].map_latitude,lng:v.value[a].map_longitude},title:v.value[a].title});w()}}))}}}}),S=a=>(w("data-v-2cd5ccff"),a=a(),f(),a),A={class:"halfMap"},I={class:"list_content"},H={class:"row y-gap-20 contents_wrap"},M={class:"col-12"},B={class:"content_wrap"},O={class:"col-md-auto"},F={class:"content_left ratio ratio-1:1"},U={class:"cardImage_content"},D=["src"],L={class:"cardImage_wish"},T={class:"col-md"},q={class:"d-flex flex-column h-full justify-between"},E={class:""},N={class:"text-14 lh-14 mb-5 text-light-1"},G={class:"text-16 lh-16 fw-500"},R=S((()=>u("br",null,null,-1))),W={class:"row x-gap-5 items-center pt-5"},K={class:"col-auto"},X={class:"text-14 text-light-1"},J=S((()=>u("div",{class:"col-auto round"},[u("div",{class:"size-3 rounded-full bg-light-1"})],-1))),Q={class:"col-auto"},Y={class:"text-14 text-light-1"},Z=S((()=>u("div",{class:"col-auto round"},[u("div",{class:"size-3 rounded-full bg-light-1"})],-1))),aa={class:"col-auto"},ea={class:"text-14 text-light-1"},ta={class:"row x-gap-10 y-gap-10 pt-20"},la={class:"col-auto"},oa={class:"border-light rounded-100 py-5 px-20 text-14 lh-14"},sa=S((()=>u("div",{class:"col-auto"},[u("div",{class:"border-light rounded-100 py-5 px-20 text-14 lh-14"},"WiFi")],-1))),ia={class:"col-auto"},ra={class:"border-light rounded-100 py-5 px-20 text-14 lh-14"},na={class:"col-auto"},da={class:"border-light rounded-100 py-5 px-20 text-14 lh-14"},ca={class:"col-md-auto content_right"},ua={class:"review-and-grade row x-gap-10 y-gap-10 justify-end items-center md:justify-start"},pa={class:"col-auto"},va={class:"text-14 lh-14 fw-500"},ma={class:"text-14 lh-14 text-light-1"},ga=S((()=>u("div",{class:"col-auto"},[u("div",{class:"star"},"4.8")],-1))),ha={class:"from"},wa={class:"price"},fa={class:"per"},xa=["onClick"],ya=S((()=>u("div",{class:"map_content"},[u("div",{class:"map",id:"map"})],-1)));const _a=a(P,[["render",function(a,e,t,l,o,s){const i=r("navigation-bar"),w=r("HeartOutline"),f=r("n-icon"),x=r("n-button"),y=r("ArrowForward"),_=r("n-pagination");return n(),d(p,null,[c(i,{class:"zup"}),u("div",A,[u("div",I,[u("div",H,[u("div",M,[u("div",B,[(n(!0),d(p,null,v(a.products,(e=>(n(),d("div",{class:"row x-gap-20 y-gap-20 card",key:e.id},[u("div",O,[u("div",F,[u("div",U,[u("img",{class:"cardImage col-12",src:e.cover},null,8,D)]),u("div",L,[c(x,{loading:!1,onClick:a.handleClick,strong:"",secondary:"",circle:"",type:"info"},{icon:m((()=>[c(f,null,{default:m((()=>[c(w)])),_:1})])),_:1},8,["onClick"])])])]),u("div",T,[u("div",q,[u("div",E,[u("p",N,g(e.location),1),u("h3",G,[h(g(e.title),1),R,h(" "+g(a.$t("moreView.garden")),1)]),u("div",W,[u("div",K,[u("div",X,g(a.$t("moreView.2Guests")),1)]),J,u("div",Q,[u("div",Y,g(a.$t("moreView.1Bedroom")),1)]),Z,u("div",aa,[u("div",ea,g(a.$t("moreView.1Bed")),1)])])]),u("div",ta,[u("div",la,[u("div",oa,g(a.$t("moreView.breakfast")),1)]),sa,u("div",ia,[u("div",ra,g(a.$t("moreView.spa")),1)]),u("div",na,[u("div",da,g(a.$t("moreView.bar")),1)])])])]),u("div",ca,[u("div",ua,[u("div",pa,[u("div",va,g(a.$t("moreView.exceptional")),1),u("div",ma,g(a.$t("moreView.3014Reviews")),1)]),ga]),u("div",ha,g(a.$t("discount.from")),1),u("div",wa,"US$"+g(e.price.toFixed(2)),1),u("div",fa,g(a.$t("moreView.perAdult")),1),u("a",{class:"button -dark-1 btn_detail",onClick:a=>this.$router.push("/trip/"+e.id)},[h(g(a.$t("moreView.viewDetail"))+" ",1),c(f,{class:"margin"},{default:m((()=>[c(y)])),_:1})],8,xa)])])))),128))])])]),c(_,{page:a.morePage,"onUpdate:page":[e[0]||(e[0]=e=>a.morePage=e),a.handleChangePage],"page-count":a.morePages,"page-size":a.morePageSize,"onUpdate:pageSize":e[1]||(e[1]=e=>a.morePageSize=e)},null,8,["page","page-count","page-size","onUpdate:page"])]),ya])],64)}],["__scopeId","data-v-2cd5ccff"]]);export{_a as default};
