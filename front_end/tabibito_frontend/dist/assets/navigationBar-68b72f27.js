import{_ as e,o as s,c as n,e as t,F as o,f as a,I as r,t as i,J as c,p as l,k as u,z as d,s as h,r as p,g,x as v,u as _,b as y,d as m,w as x,i as w,m as k,n as b,aa as I,h as C,q as f}from"./index-4a8fe44e.js";const T={class:"dropdown"},$={class:"dropdownContainer"},D=["onClick"],B={class:"dropdownItemText"};const M=e({props:["is_currency","dropdown_item"],name:"dropDown.vue",methods:{handleClick(e){this.is_currency?this.$emit("changeCurrency",e.icon,e.text):this.$router.push(e.path)}},emits:["changeCurrency"]},[["render",function(e,c,l,u,d,h){return s(),n("div",T,[t("div",$,[(s(!0),n(o,null,a(l.dropdown_item,(e=>(s(),n("div",{class:"dropdownItem",onClick:s=>h.handleClick(e)},[t("div",{class:"dropdownItemIcon",style:r(e.icon)},null,4),t("div",B,i(e.text),1)],8,D)))),256))])])}],["__scopeId","data-v-67025f05"]]),S={setup:()=>({action_items:[{icon:"background-image:url('src/assets/profile.svg')",text:"Profile",path:"/user/profile"},{icon:"background-image:url('src/assets/logout.svg')",text:"Log out",path:"/login"}]}),name:"userDropDown",methods:{handleClick(e){const s=c();"/login"===e.path&&this.axios.get("/user/logout").then((n=>{200===n.status&&(s.user_login_status=!1,s.user_id=0,s.job="",this.$router.push(e.path))})),"/user/profile"===e.path&&this.$router.push(e.path+"/"+s.user_id)}}},z=e=>(l("data-v-dda80e4f"),e=e(),u(),e),L={class:"userDropDown"},P={class:"userInfo"},R=z((()=>t("div",{class:"userAvatar"},null,-1))),W={class:"userInfoText"},j={class:"userName"},A=z((()=>t("div",{class:"userRole"},null,-1))),E={class:"actions"},N=["onClick"],U={class:"actionItemText"};const q=d({props:{isTransparent:Boolean,isIniTextWhite:Boolean},components:{DropDown:M,userDropDown:e(S,[["render",function(e,c,l,u,d,h){return s(),n("div",L,[t("div",P,[R,t("div",W,[t("div",j,i(e.$t("hello")),1),A])]),t("div",E,[(s(!0),n(o,null,a(u.action_items,(e=>(s(),n("div",{class:"actionItem",onClick:s=>h.handleClick(e)},[t("div",{class:"actionItemIcon",style:r(e.icon)},null,4),t("div",U,i(e.text),1)],8,N)))),256))])])}],["__scopeId","data-v-dda80e4f"]])},setup(e){const s=h(),n=c();let t=p(!1),o=p(!1),a=p(!1);g().appContext.config.globalProperties.axios.get("/user/login_status").then((e=>{a.value=null!==e.data.id,a.value&&(n.user_id=e.data.id,n.name=e.data.name),n.user_login_status=a.value}));let r=p("background-image:url('src/assets/chat.png')"),i=p("background-image:url('src/assets/tour.png')"),l=p("background-image:url('src/assets/chart.png')"),u=p("background-image:url('src/assets/team.png')"),d=p("USD"),_=p("background-color: white;"),y=p(""),m=p("");return e.isTransparent?(_=p("background-color: 00000000;"),e.isIniTextWhite&&(y=p("filter: invert(100%) sepia(0%) saturate(0%) hue-rotate(346deg) brightness(101%) contrast(104%);"),m=p("right: 100px;")),v((()=>{window.addEventListener("scroll",(function(){0===(document.documentElement.scrollTop||document.body.scrollTop)?(_.value="background-color: 00000000; transition: .2s;",e.isIniTextWhite&&(y.value="filter: invert(100%) sepia(0%) saturate(0%) hue-rotate(346deg) brightness(101%) contrast(104%); transition: .2s;",m.value="right: 100px;")):(_.value="background-color: white; transition: .2s; box-shadow: 0px 10px 30px 0px #05103608;",y.value="color: black; transition: .2s;",m.value="right: 100px;")}),!0)}))):_=p("background-color: white; box-shadow: 0px 10px 30px 0px #05103608;"),{currency_is_shown:t,user_is_shown:o,currencyIcon:r,currencyIcon1:i,currencyIcon2:l,currencyIcon3:u,currencyText:d,user_is_logged_in:a,backgroundColor:_,currencyColor:y,dropDownPosition:m,options:[{label:"Reservation Rates",key:"rate"},{label:"Visual Travel Data",key:"data"},{label:"Tours Distribution",key:"map"}],handleSelect(e){"data"===e?s.push("/chartsData"):"map"===e?s.push("/chartsMaps"):"rate"===e&&s.push("/chartsRates")}}},data(){return{currency_item:p([{icon:"background-image:url('src/assets/USD.svg')",text:this.$t("navi.chat")}]),user_item:[{}],login_item:[{icon:"background-image:url('src/assets/login.svg')",text:this.$t("navi.login"),path:"/login"},{icon:"background-image:url('src/assets/signup.svg')",text:this.$t("navi.signup"),path:"/register"}]}},methods:{handleCurrencyChange(e,s){this.currencyIcon=e,this.currencyText=s},changeLang(){const e=_();let s;"en"===this.$i18n.locale?(this.$i18n.locale="zh",e.language="zh"):(this.$i18n.locale="en",e.language="en"),s="zh"===this.$i18n.locale?"ch":"en",this.axios.post("/user/set_language",{language:s})}}}),F=e=>(l("data-v-70212e0e"),e=e(),u(),e),J={class:"content"},V=[F((()=>t("div",{class:"logoIcon"},null,-1))),F((()=>t("div",{class:"logoText"},"Tabibito",-1)))],G={class:"simpleSettings"},H={class:"actionText",id:"currencyText"},K=F((()=>t("div",{class:"divider"},null,-1))),O={class:"actionButton currencyButton"},Q=F((()=>t("div",{class:"divider"},null,-1))),X={class:"actionText",id:"currencyText"},Y=F((()=>t("div",{class:"divider"},null,-1))),Z={class:"actionText",id:"currencyText"},ee=F((()=>t("div",{class:"divider"},null,-1))),se=F((()=>t("div",{class:"actionIcon"},null,-1))),ne={class:"actionText"};const te=e(q,[["render",function(e,o,a,c,l,u){const d=y("n-dropdown"),h=y("drop-down"),p=y("user-drop-down");return s(),n("header",{class:"header",style:r(e.backgroundColor)},[t("div",J,[t("div",{class:"logoArea",onClick:o[0]||(o[0]=e=>this.$router.push("/"))},V),t("div",{class:"actions",style:r(e.currencyColor)},[t("div",G,[t("div",{class:"actionButton currencyButton",onClick:o[1]||(o[1]=e=>this.$router.push("/search_result"))},[t("div",{class:"actionIcon",id:"currencyIcon",style:r(e.currencyIcon1)},null,4),t("div",H,i(e.$t("navi.sear")),1)]),K,t("div",O,[t("div",{class:"actionIcon",id:"currencyIcon",style:r(e.currencyIcon2)},null,4),m(d,{trigger:"click",style:{"z-index":"100000000 !important"},options:e.options,onSelect:e.handleSelect},{default:x((()=>[w(i(e.$t("navi.chart")),1)])),_:1},8,["options","onSelect"])]),Q,t("div",{class:"actionButton currencyButton",onClick:o[2]||(o[2]=e=>this.$router.push("/chat"))},[t("div",{class:"actionIcon",id:"currencyIcon",style:r(e.currencyIcon)},null,4),t("div",X,i(e.$t("navi.chat")),1)]),Y,t("div",{class:"actionButton currencyButton",onClick:o[3]||(o[3]=e=>this.$router.push("/about"))},[t("div",{class:"actionIcon",id:"currencyIcon",style:r(e.currencyIcon3)},null,4),t("div",Z,i(e.$t("navi.about")),1)]),m(I,{name:"fade"},{default:x((()=>[k(m(h,{onMouseenter:o[4]||(o[4]=s=>e.currency_is_shown=!0),onMouseleave:o[5]||(o[5]=s=>e.currency_is_shown=!1),dropdown_item:e.currency_item,is_currency:!0,style:{position:"absolute",left:"10px",top:"60px"},onChangeCurrency:e.handleCurrencyChange},null,8,["dropdown_item","onChangeCurrency"]),[[b,e.currency_is_shown]])])),_:1}),ee,t("div",{class:"actionButton languageButton",onClick:o[6]||(o[6]=s=>e.changeLang())},[se,t("div",ne,i(e.$t("navi.lang")),1)])]),t("div",{class:"accountButton",onMouseenter:o[11]||(o[11]=s=>e.user_is_shown=!0),onMouseleave:o[12]||(o[12]=s=>e.user_is_shown=!1)},[m(I,{name:"fade"},{default:x((()=>[e.user_is_logged_in?f("",!0):k((s(),C(h,{key:0,onMouseenter:o[7]||(o[7]=s=>e.user_is_shown=!0),onMouseleave:o[8]||(o[8]=s=>e.user_is_shown=!1),dropdown_item:e.login_item,is_currency:!1,style:r([{position:"absolute",right:"100px",top:"60px"},e.dropDownPosition]),onChangeCurrency:e.handleCurrencyChange},null,8,["dropdown_item","style","onChangeCurrency"])),[[b,e.user_is_shown]])])),_:1}),m(I,{name:"fade"},{default:x((()=>[e.user_is_logged_in?k((s(),C(p,{key:0,onMouseenter:o[9]||(o[9]=s=>e.user_is_shown=!0),onMouseleave:o[10]||(o[10]=s=>e.user_is_shown=!1),style:{position:"absolute",right:"0",top:"60px"}},null,512)),[[b,e.user_is_shown]]):f("",!0)])),_:1})],32)],4)])],4)}],["__scopeId","data-v-70212e0e"]]);export{te as N};
