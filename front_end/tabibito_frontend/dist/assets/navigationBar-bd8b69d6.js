import{_ as x,o as i,c as u,b as o,F as D,j as S,E as d,t as f,J as B,m as M,l as N,k as t,g as U,s as E,G as L,r as b,a as h,w,e as $,h as C,U as k,I,i as T,p as P,f as V}from"./index-6d7df298.js";const z={props:["is_currency","dropdown_item"],name:"dropDown.vue",methods:{handleClick(e){this.is_currency?this.$emit("changeCurrency",e.icon,e.text):this.$router.push(e.path)}},emits:["changeCurrency"]},R={class:"dropdown"},W={class:"dropdownContainer"},j=["onClick"],A={class:"dropdownItemText"};function F(e,s,a,c,l,_){return i(),u("div",R,[o("div",W,[(i(!0),u(D,null,S(a.dropdown_item,r=>(i(),u("div",{class:"dropdownItem",onClick:p=>_.handleClick(r)},[o("div",{class:"dropdownItemIcon",style:d(r.icon)},null,4),o("div",A,f(r.text),1)],8,j))),256))])])}const Y=x(z,[["render",F],["__scopeId","data-v-67025f05"]]);const G={setup(){return{action_items:[{icon:"background-image:url('src/assets/profile.svg')",text:"Profile",path:""},{icon:"background-image:url('src/assets/logout.svg')",text:"Log out",path:"/login"}]}},name:"userDropDown",methods:{handleClick(e){if(e.path==="/login"){const s=B();this.axios.get("/user/logout").then(a=>{a.status===200&&(s.user_login_status=!1,s.user_id=0,s.job="",this.$router.push(e.path))})}}}},H={class:"userDropDown"},J=M('<div class="userInfo" data-v-d9468975><div class="userAvatar" data-v-d9468975></div><div class="userInfoText" data-v-d9468975><div class="userName" data-v-d9468975>Hello</div><div class="userRole" data-v-d9468975></div></div></div>',1),q={class:"actions"},K=["onClick"],O={class:"actionItemText"};function Q(e,s,a,c,l,_){return i(),u("div",H,[J,o("div",q,[(i(!0),u(D,null,S(c.action_items,r=>(i(),u("div",{class:"actionItem",onClick:p=>_.handleClick(r)},[o("div",{class:"actionItemIcon",style:d(r.icon)},null,4),o("div",O,f(r.text),1)],8,K))),256))])])}const X=x(G,[["render",Q],["__scopeId","data-v-d9468975"]]);const Z=N({props:{isTransparent:Boolean,isIniTextWhite:Boolean},components:{DropDown:Y,userDropDown:X},setup(e){const s=B();let a=t(!1),c=t(!1),l=t(!1);U().appContext.config.globalProperties.axios.get("/user/login_status").then(y=>{l.value=y.data.id!==null,l.value&&(s.user_id=y.data.id),s.user_login_status=l.value});let r=t("background-image:url('src/assets/USD.svg')"),p=t("USD"),n=t("background-color: white;"),g=t(""),v=t("");return e.isTransparent?(n=t("background-color: 00000000;"),e.isIniTextWhite&&(g=t("filter: invert(100%) sepia(0%) saturate(0%) hue-rotate(346deg) brightness(101%) contrast(104%);"),v=t("right: 100px;")),E(()=>{window.addEventListener("scroll",function(){(document.documentElement.scrollTop||document.body.scrollTop)===0?(n.value="background-color: 00000000; transition: .2s;",e.isIniTextWhite&&(g.value="filter: invert(100%) sepia(0%) saturate(0%) hue-rotate(346deg) brightness(101%) contrast(104%); transition: .2s;",v.value="right: 100px;")):(n.value="background-color: white; transition: .2s; box-shadow: 0px 10px 30px 0px #05103608;",g.value="color: black; transition: .2s;",v.value="right: 100px;")},!0)})):n=t("background-color: white; box-shadow: 0px 10px 30px 0px #05103608;"),{currency_is_shown:a,user_is_shown:c,currencyIcon:r,currencyText:p,user_is_logged_in:l,backgroundColor:n,currencyColor:g,dropDownPosition:v}},data(){return{currency_item:t([{icon:"background-image:url('src/assets/USD.svg')",text:this.$t("navi.USD")},{icon:"background-image:url('src/assets/CNY.svg')",text:this.$t("navi.CNY")},{icon:"background-image:url('src/assets/EUR.svg')",text:this.$t("navi.EUR")}]),user_item:[{}],login_item:[{icon:"background-image:url('src/assets/login.svg')",text:this.$t("navi.login"),path:"/login"},{icon:"background-image:url('src/assets/signup.svg')",text:this.$t("navi.signup"),path:"/register"}]}},methods:{handleCurrencyChange(e,s){this.currencyIcon=e,this.currencyText=s},changeLang(){const e=L();this.$i18n.locale==="en"?(this.$i18n.locale="zh",e.language="zh"):(this.$i18n.locale="en",e.language="en"),this.axios.post("/user/set_language",{language:this.$i18n.locale})}}}),m=e=>(P("data-v-65225f65"),e=e(),V(),e),ee={class:"content"},se=m(()=>o("div",{class:"logoIcon"},null,-1)),oe=m(()=>o("div",{class:"logoText"},"Tabibito",-1)),ne=[se,oe],te={class:"simpleSettings"},re={class:"actionText",id:"currencyText"},ie=m(()=>o("div",{class:"divider"},null,-1)),ae=m(()=>o("div",{class:"actionIcon"},null,-1)),le={class:"actionText"};function ue(e,s,a,c,l,_){const r=b("drop-down"),p=b("user-drop-down");return i(),u("header",{class:"header",style:d(e.backgroundColor)},[o("div",ee,[o("div",{class:"logoArea",onClick:s[0]||(s[0]=n=>this.$router.push("/"))},ne),o("div",{class:"actions",style:d(e.currencyColor)},[o("div",te,[o("div",{class:"actionButton currencyButton",onMouseenter:s[1]||(s[1]=n=>e.currency_is_shown=!0),onMouseleave:s[2]||(s[2]=n=>e.currency_is_shown=!1)},[o("div",{class:"actionIcon",id:"currencyIcon",style:d(e.currencyIcon)},null,4),o("div",re,f(e.currencyText),1)],32),h(k,{name:"fade"},{default:w(()=>[$(h(r,{onMouseenter:s[3]||(s[3]=n=>e.currency_is_shown=!0),onMouseleave:s[4]||(s[4]=n=>e.currency_is_shown=!1),dropdown_item:e.currency_item,is_currency:!0,style:{position:"absolute",left:"10px",top:"60px"},onChangeCurrency:e.handleCurrencyChange},null,8,["dropdown_item","onChangeCurrency"]),[[C,e.currency_is_shown]])]),_:1}),ie,o("div",{class:"actionButton languageButton",onClick:s[5]||(s[5]=n=>e.changeLang())},[ae,o("div",le,f(e.$t("navi.lang")),1)])]),o("div",{class:"accountButton",onMouseenter:s[10]||(s[10]=n=>e.user_is_shown=!0),onMouseleave:s[11]||(s[11]=n=>e.user_is_shown=!1)},[h(k,{name:"fade"},{default:w(()=>[e.user_is_logged_in?T("",!0):$((i(),I(r,{key:0,onMouseenter:s[6]||(s[6]=n=>e.user_is_shown=!0),onMouseleave:s[7]||(s[7]=n=>e.user_is_shown=!1),dropdown_item:e.login_item,is_currency:!1,style:d([{position:"absolute",right:"100px",top:"60px"},e.dropDownPosition]),onChangeCurrency:e.handleCurrencyChange},null,8,["dropdown_item","style","onChangeCurrency"])),[[C,e.user_is_shown]])]),_:1}),h(k,{name:"fade"},{default:w(()=>[e.user_is_logged_in?$((i(),I(p,{key:0,onMouseenter:s[8]||(s[8]=n=>e.user_is_shown=!0),onMouseleave:s[9]||(s[9]=n=>e.user_is_shown=!1),style:{position:"absolute",right:"0",top:"60px"}},null,512)),[[C,e.user_is_shown]]):T("",!0)]),_:1})],32)],4)])],4)}const ce=x(Z,[["render",ue],["__scopeId","data-v-65225f65"]]);export{ce as N};
