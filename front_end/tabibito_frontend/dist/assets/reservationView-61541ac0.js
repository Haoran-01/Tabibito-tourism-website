import{_ as C,k as _,u as S,q as B,A as b,r as h,o as R,c as U,a as l,b as a,w as y,F as V,y as u,B as f,m as z,p as D,f as N}from"./index-6d7df298.js";import{N as E}from"./navigationBar-bd8b69d6.js";const O={name:"staffView",components:{NavigationBar:E},setup(){let o=_();const s=S(),m=B(),c=_([]),n=b(()=>c.value.reduce((t,{columnKey:e,order:d})=>(t[e]=d,t),{})),g=_({pageSize:10,onUpdatePage:w}),p=b(()=>[{title:"Tourism Title",key:"name"},{title:"Start Time",key:"start_time"},{title:"End Time",key:"end_time"},{title:"Reservation Time",key:"res_time"},{title:"Price",sortOrder:n.value.price||!1,key:"price",sorter:{compare:(t,e)=>t.price-e.price,multiple:1}},{title:"Discount",sortOrder:n.value.discount||!1,key:"discount",sorter:{compare:(t,e)=>t.discount-e.discount,multiple:1}},{title:"Booking Holder",sortOrder:n.value.mark||!1,key:"holder"},{title:"Status",sortOrder:n.value.status||!1,key:"status"},{title:"Success",key:"actions",render(t){return u(f,{strong:!0,size:"large",type:"success",bordered:!0,secondary:!0,onClick:()=>v(t)},{default:()=>"Complete"})}},{title:"Cancel",key:"actions",render(t){return u(f,{strong:!0,size:"large",type:"warning",bordered:!0,secondary:!0,onClick:()=>T(t)},{default:()=>"Cancel"})}},{title:"Delete",key:"actions",render(t){return u(f,{strong:!0,size:"large",type:"error",bordered:!0,secondary:!0,onClick:()=>k(t)},{default:()=>"Delete"})}},{title:"Edit",key:"actions",render(t){return u(f,{strong:!0,size:"large",type:"info",bordered:!0,secondary:!0,onClick:()=>x()},{default:()=>"Edit"})}}]);function r(t){console.log(t),c.value=[].concat(t)}function v(t){this.axios.post("/staff_portal/change_order_status",{operation:"Completed",id:`${t.id}`}).then(e=>{e.data.code===200?s.success("This program is completed successfully",{position:"bottom-right"}):s.warning("This program has already been completed or canceled",{position:"bottom-right"})})}function T(t){this.axios.post("/staff_portal/change_order_status",{operation:"Cancelled",id:`${t.id}`}).then(e=>{e.data.code===200?s.success("This program is canceled successfully",{position:"bottom-right"}):s.warning("This program has already been canceled or completed",{position:"bottom-right"})})}function k(t){this.axios.post("/staff_portal/change_order_status",{operation:"Delete",id:`${t.id}`}).then(e=>{e.data.code===200&&s.success("This program is deleted successfully",{position:"bottom-right"})})}function x(t){s.warning("This will be done in the next stage")}function w(t){this.axios.post("/staff_portal/change_order_status",{page:t}).then(function(e){o=e.data.all_orders,console.log(this.data)}).catch(function(e){console.log(e)})}return{route:m,columns:p,handleUpdateSorter:r,data:o,pagination:g,toast:s}},created(){this.axios.post("/staff_portal/view_all",{page:1}).then(o=>{o.status===200&&(this.data=o.data.all_orders)})},methods:{}},i=o=>(D("data-v-1715fc3c"),o=o(),N(),o),A={class:"TManager"},I={class:"TCon"},M={class:"TTit"},P={class:"TCol"},$=i(()=>a("h1",{class:"TTex1"},"Reservation List",-1)),F=i(()=>a("div",{class:"TTex2"},"Manage the tourism programs",-1)),L={class:"but"},j=i(()=>a("button",{class:"nBtn nBtn1"}," Back To Dashboard ",-1)),q=i(()=>a("button",{class:"nBtn nBtn2"}," View all Programs ",-1)),H=i(()=>a("div",{class:"TAuto"},null,-1)),K={class:"TTable"},G={class:"main"},J={class:"tableArea"},Q={class:"mainTable"},W=z('<footer class="footer -type-1" data-v-1715fc3c><div class="container" data-v-1715fc3c><div class="contact-foot-layout" data-v-1715fc3c><div class="row contact-foot" data-v-1715fc3c><div class="col-auto" data-v-1715fc3c><div class="row contact-foot-sub" data-v-1715fc3c><div class="col-auto" data-v-1715fc3c><div class="contact-foot-text" data-v-1715fc3c> Â© 2023 Tabibito All rights reserved. </div></div></div></div><div class="col-auto" data-v-1715fc3c><div class="row contact-foot-sub2" data-v-1715fc3c><div class="col-auto" data-v-1715fc3c><div class="contact-foot-sub2-in" data-v-1715fc3c><button class="contact-foot-sub2-btn" data-v-1715fc3c><i class="icon-globe contact-foot-sub2-icon" data-v-1715fc3c></i><span class="underline" data-v-1715fc3c>English (US)</span></button><button class="contact-foot-sub2-btn2" data-v-1715fc3c><i class="icon-usd contact-foot-sub2-icon" data-v-1715fc3c></i><span class="underline" data-v-1715fc3c>USD</span></button></div></div><div class="col-auto" data-v-1715fc3c><div class="contact-foot-icons" data-v-1715fc3c><a href="#" data-v-1715fc3c><i class="icon-facebook text-14" data-v-1715fc3c></i></a><a href="#" data-v-1715fc3c><i class="icon-twitter text-14" data-v-1715fc3c></i></a><a href="#" data-v-1715fc3c><i class="icon-instagram text-14" data-v-1715fc3c></i></a><a href="#" data-v-1715fc3c><i class="icon-linkedin text-14" data-v-1715fc3c></i></a></div></div></div></div></div></div></div></footer>',1);function X(o,s,m,c,n,g){const p=h("navigation-bar"),r=h("router-link"),v=h("n-data-table");return R(),U(V,null,[l(p,{"is-transparent":!0,class:"zup"}),a("div",A,[a("div",I,[a("div",M,[a("div",P,[$,F,a("div",L,[l(r,{to:"/management",style:{"text-decoration":"none"}},{default:y(()=>[j]),_:1}),l(r,{to:"/management/project_list",style:{"text-decoration":"none"}},{default:y(()=>[q]),_:1})])]),H]),a("div",K,[a("div",G,[a("div",J,[a("div",Q,[l(v,{columns:c.columns,data:c.data,pagination:c.pagination,"onUpdate:sorter":c.handleUpdateSorter},null,8,["columns","data","pagination","onUpdate:sorter"])])])])]),W])])],64)}const tt=C(O,[["render",X],["__scopeId","data-v-1715fc3c"]]);export{tt as default};
