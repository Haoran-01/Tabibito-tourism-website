import{_ as e,r as t,l as a,s,D as o,b as i,o as r,c as n,d as l,e as c,t as d,w as u,F as p,j as m,N as g,a as f}from"./index-4a8fe44e.js";import{N as v}from"./navigationBar-68b72f27.js";import{S as b}from"./sideBarView-a0d0786a.js";const h={class:"TManager"},y={class:"TCon"},T={class:"TTit"},k={class:"TCol"},_={class:"TTex1"},w={class:"TTex2"},C={class:"TAuto"},x={class:"but"},B={class:"nBtn nBtn1"},$={class:"nBtn nBtn2"},S={class:"TTable"},z={class:"main"},D={class:"tableArea"},j={class:"mainTable"},U={class:"footer -type-1"},V={class:"container"},A={class:"contact-foot-layout"},L={class:"row contact-foot"},O={class:"col-auto"},P={class:"row contact-foot-sub"},E={class:"col-auto"},N={class:"contact-foot-text"};const R=e({name:"staffView",components:{SideBarView:b,NavigationBar:v},setup(){let e=t();const i=a(),r=s(),n=t([]),l=o((()=>n.value.reduce(((e,{columnKey:t,order:a})=>(e[t]=a,e)),{}))),c=t({pageSize:10,onUpdatePage:function(e){}}),d=o((()=>[{title:"Tourism Title",key:"name"},{title:"Start Time",key:"start_time"},{title:"End Time",key:"end_time"},{title:"Reservation Time",key:"res_time"},{title:"Price",sortOrder:l.value.price||!1,key:"price",sorter:{compare:(e,t)=>e.price-t.price,multiple:1}},{title:"Discount",sortOrder:l.value.discount||!1,key:"discount",sorter:{compare:(e,t)=>e.discount-t.discount,multiple:1}},{title:"Booking Holder",sortOrder:l.value.mark||!1,key:"holder"},{title:"Status",sortOrder:l.value.status||!1,key:"status"},{title:"Success",key:"actions",render:e=>m(g,{strong:!0,size:"large",type:"success",bordered:!0,secondary:!0,onClick:()=>function(e){f.post("/staff_portal/change_order_status",{operation:"Completed",id:`${e.id}`}).then((e=>{200===e.data.code?i.success("This program is completed successfully",{position:"bottom-right"}):i.warning("This program has already been completed or canceled",{position:"bottom-right"})}))}(e)},{default:()=>"Complete"})},{title:"Cancel",key:"actions",render:e=>m(g,{strong:!0,size:"large",type:"warning",bordered:!0,secondary:!0,onClick:()=>function(e){f.post("/staff_portal/change_order_status",{operation:"Cancelled",id:`${e.id}`}).then((e=>{200===e.data.code?i.success("This program is canceled successfully",{position:"bottom-right"}):i.warning("This program has already been canceled or completed",{position:"bottom-right"})}))}(e)},{default:()=>"Cancel"})},{title:"Delete",key:"actions",render:e=>m(g,{strong:!0,size:"large",type:"error",bordered:!0,secondary:!0,onClick:()=>function(e){f.post("/staff_portal/change_order_status",{operation:"Delete",id:`${e.id}`}).then((e=>{200===e.data.code&&i.success("This program is deleted successfully",{position:"bottom-right"})}))}(e)},{default:()=>"Delete"})},{title:"Edit",key:"actions",render:e=>m(g,{strong:!0,size:"large",type:"info",bordered:!0,secondary:!0,onClick:()=>function(e){r.push(`/management/reservation_edit/${e.id}`)}(e)},{default:()=>"Edit"})}]));return{route:r,columns:d,handleUpdateSorter:function(e){n.value=[].concat(e)},data:e,pagination:c,toast:i}},created(){this.axios.post("/staff_portal/view_all",{page:1}).then((e=>{200===e.status&&(this.data=e.data.all_orders)}))},methods:{}},[["render",function(e,t,a,s,o,m){const g=i("navigation-bar"),f=i("side-bar-view"),v=i("router-link"),b=i("n-data-table"),R=i("n-scrollbar");return r(),n(p,null,[l(g,{"is-transparent":!0,class:"zup"}),c("div",h,[c("div",null,[l(f)]),c("div",y,[c("div",T,[c("div",k,[c("h1",_,d(e.$t("resView.reservationList")),1),c("div",w,d(e.$t("backList.manageTheTourismPrograms")),1)]),c("div",C,[c("div",x,[l(v,{to:"/management",style:{"text-decoration":"none"}},{default:u((()=>[c("button",B,d(e.$t("backList.backToDashboard")),1)])),_:1}),l(v,{to:"/management/project_list",style:{"text-decoration":"none"}},{default:u((()=>[c("button",$,d(e.$t("resView.viewAllPrograms")),1)])),_:1})])])]),c("div",S,[c("div",z,[c("div",D,[l(R,{"x-scrollabl":"",trigger:"none"},{default:u((()=>[c("div",j,[l(b,{columns:s.columns,data:s.data,pagination:s.pagination,"onUpdate:sorter":s.handleUpdateSorter},null,8,["columns","data","pagination","onUpdate:sorter"])])])),_:1})])])]),c("footer",U,[c("div",V,[c("div",A,[c("div",L,[c("div",O,[c("div",P,[c("div",E,[c("div",N,d(e.$t("backList.TabibitoAllRightsReserved")),1)])])])])])])])])])],64)}],["__scopeId","data-v-e694dbb0"]]);export{R as default};
